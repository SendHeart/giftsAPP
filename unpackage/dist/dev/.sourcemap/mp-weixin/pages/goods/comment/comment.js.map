{"version":3,"sources":["webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/main.js","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/goods/comment/comment.vue?d783","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/goods/comment/comment.vue?0b2f","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/goods/comment/comment.vue?3fec","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/goods/comment/comment.vue?5c25","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/goods/comment/comment.vue","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/goods/comment/comment.vue?5dee","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/goods/comment/comment.vue?d0c7"],"names":["createPage","Page","util","require","weburl","getApp","globalData","shop_type","uploadurl","data","user","userInfo","username","indicatorDots","vertical","autoplay","page","pagesize","all_rows","interval","duration","goodsname","goodsinfo","goodsprice","goodssale","goodsid","sku_id","commodityAttr","attrValueList","hideviewgoodsinfo","dkheight","scrollTop","scrollTop_init","comment","comm_list","img_arr","new_img_arr","upimg_url","formdata","star","goodstag","goods_img","goods_id","goods_skuid","order_skuid","comm_type","comment_level","content","new_img_url","components","props","onLoad","options","that","setData","console","log","get_goods_list","methods","showGoods","e","objectId","currentTarget","dataset","wx","getStorageSync","token","goodsId","goods_name","goodsName","goods_price","goodsPrice","goods_info","goodsInfo","goods_sale","sale","navigateTo","url","request","method","access_token","header","success","res","result","ret_info","info","spec_select_list","sku_list","i","length","attrValueStatus","showToast","title","icon","setTimeout","navigateBack","get_order_comment","m_id","good_skuid","concat","comment_star","star_id","starId","formSubmit","id","target","adds","detail","value","program_id","jtappid","openid","_openid","zx_info_id","upload","new_img_addr","count","uploadFile","filePath","name","formData","latitude","encodeURI","longitude","restaurant_id","city","prov","retinfo","JSON","parse","trim","push","send_comment","upimg","chooseImage","sizeType","tempFilePaths","cancel_upimg","img_tmp","old_img_arr","j","cancel_new_upimg","all_img_arr","bindTextAreaBlur","sendCommentBtnTap","upimage","comment_img1","comment_img2","comment_img3","product_comment_level","showCartToast","obj","keys","val","Object","forEach","key","split","$data","key2","index","$set"],"mappings":"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","file":"pages/goods/comment/comment.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/goods/comment/comment.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./comment.vue?vue&type=template&id=677e5b81&\"\nimport script from \"./comment.vue?vue&type=script&lang=js&\"\nexport * from \"./comment.vue?vue&type=script&lang=js&\"\nimport style0 from \"./comment.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('677e5b81', component.options)\n    } else {\n      api.reload('677e5b81', component.options)\n    }\n    module.hot.accept(\"./comment.vue?vue&type=template&id=677e5b81&\", function () {\n      api.rerender('677e5b81', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/goods/comment/comment.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./comment.vue?vue&type=template&id=677e5b81&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./comment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./comment.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nvar util = require(\"utils/util.js\");\r\nvar weburl = getApp().globalData.weburl;\r\nvar shop_type = getApp().globalData.shop_type;\r\nvar uploadurl = getApp().globalData.uploadurl;\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      shop_type: shop_type,\r\n      uploadurl: uploadurl,\r\n      user: null,\r\n      userInfo: {},\r\n      username: null,\r\n      indicatorDots: false,\r\n      vertical: false,\r\n      autoplay: true,\r\n      page: 1,\r\n      pagesize: 10,\r\n      all_rows: 0,\r\n      interval: 30000,\r\n      duration: 12000,\r\n      goodsname: '',\r\n      goodsinfo: [],\r\n      goodsprice: 0,\r\n      goodssale: 0,\r\n      goodsid: 0,\r\n      sku_id: 0,\r\n      commodityAttr: [],\r\n      attrValueList: [],\r\n      hideviewgoodsinfo: true,\r\n      dkheight: 300,\r\n      scrollTop: 0,\r\n      scrollTop_init: 350,\r\n      comment: '',\r\n      comm_list: [],\r\n      img_arr: [],\r\n      new_img_arr: [],\r\n      upimg_url: [],\r\n      formdata: '',\r\n      star: [],\r\n      goodstag: \"\",\r\n      goods_img: \"\",\r\n      goods_id: \"\",\r\n      goods_skuid: \"\",\r\n      order_skuid: \"\",\r\n      comm_type: \"\",\r\n      comment_level: \"\",\r\n      content: \"\",\r\n      new_img_url: \"\"\r\n    };\r\n  },\r\n\r\n  components: {},\r\n  props: {},\r\n  onLoad: function (options) {\r\n    var that = this;\r\n    var goods_id = options.goods_id ? options.goods_id : 0;\r\n    var goods_skuid = options.goods_skuid ? options.goods_skuid : 0;\r\n    var order_skuid = options.order_skuid ? options.order_skuid : 0;\r\n    var comm_type = options.comm_type ? options.comm_type : 0;\r\n    that.setData({\r\n      goods_id: goods_id,\r\n      goods_skuid: goods_skuid,\r\n      order_skuid: order_skuid,\r\n      comm_type: comm_type\r\n    });\r\n    console.log('comment onload comm_type:', comm_type, ' goods_id:', goods_id, 'goods_skuid:', goods_skuid, ' order_skuid:'.order_skuid);\r\n    that.get_goods_list();\r\n  },\r\n  methods: {\r\n    showGoods: function (e) {\r\n      // 点击购物车某件商品跳转到商品详情\r\n      var objectId = e.currentTarget.dataset.objectId;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var goods_id = e.currentTarget.dataset.goodsId;\r\n      var goods_name = e.currentTarget.dataset.goodsName;\r\n      var goods_price = e.currentTarget.dataset.goodsPrice;\r\n      var goods_info = e.currentTarget.dataset.goodsInfo;\r\n      var goods_sale = e.currentTarget.dataset.sale; //var carts = this.data.carts;\r\n\r\n      var sku_id = objectId;\r\n      wx.navigateTo({\r\n        url: '../../details/details?sku_id=' + objectId + '&id=' + goods_id + '&goods_info=' + goods_info + '&goods_price=' + goods_price + '&sale=' + goods_sale + '&token=' + token + '&username=' + username\r\n      });\r\n    },\r\n    //获取商品信息\r\n    get_goods_list: function () {\r\n      var that = this;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var page = that.page;\r\n      var goods_id = that.goods_id;\r\n      var goods_skuid = that.goods_skuid;\r\n      wx.request({\r\n        url: weburl + '/api/client/get_goods_list',\r\n        method: 'POST',\r\n        data: {\r\n          username: username,\r\n          access_token: token,\r\n          goods_id: goods_id\r\n        },\r\n        header: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'Accept': 'application/json'\r\n        },\r\n        success: function (res) {\r\n          var goods_info = res.data.result;\r\n          var ret_info = res.data.info;\r\n          console.log('获取单个产品信息:', goods_info);\r\n\r\n          if (goods_info) {\r\n            that.setData({\r\n              goodsid: goods_info[0]['id'],\r\n              goodsname: goods_info[0]['name'],\r\n              goodsinfo: goods_info[0]['act_info'],\r\n              goodstag: goods_info[0]['goods_tag'],\r\n              goodsprice: goods_info[0]['sell_price'],\r\n              goodssale: goods_info[0]['sale'],\r\n              goods_img: goods_info[0]['image']\r\n            }); //that.get_order_comment()\r\n            // 商品SKU\r\n\r\n            wx.request({\r\n              url: weburl + '/api/client/get_goodssku_list',\r\n              method: 'POST',\r\n              data: {\r\n                username: username,\r\n                access_token: token,\r\n                goods_id: that.goodsid,\r\n                sku_id: goods_skuid,\r\n                page: page\r\n              },\r\n              header: {\r\n                'Content-Type': 'application/x-www-form-urlencoded',\r\n                'Accept': 'application/json'\r\n              },\r\n              success: function (res) {\r\n                console.log('商品SKU:', res.data.result);\r\n                var attrValueList = res.data.result.spec_select_list;\r\n                var commodityAttr = res.data.result.sku_list;\r\n                if (!commodityAttr) return;\r\n\r\n                for (var i = 0; i < commodityAttr.length; i++) {\r\n                  if (commodityAttr[i].attrValueStatus) {\r\n                    commodityAttr[i].attrValueStatus = true;\r\n                  } else {\r\n                    commodityAttr[i].attrValueStatus = false;\r\n                  }\r\n                }\r\n\r\n                that.setData({\r\n                  commodityAttr: commodityAttr\r\n                });\r\n                if (!attrValueList) return;\r\n\r\n                for (var i = 0; i < attrValueList.length; i++) {\r\n                  if (attrValueList[i].attrValueStatus) {\r\n                    attrValueList[i].attrValueStatus = true;\r\n                  } else {\r\n                    attrValueList[i].attrValueStatus = false;\r\n                  }\r\n                }\r\n\r\n                that.setData({\r\n                  attrValueList: attrValueList\r\n                });\r\n              }\r\n            });\r\n          } else {\r\n            wx.showToast({\r\n              title: '服务已暂停',\r\n              icon: 'loading',\r\n              duration: 3000\r\n            });\r\n            setTimeout(function () {\r\n              wx.navigateBack();\r\n            }, 1500);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    get_order_comment: function () {\r\n      var that = this;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var m_id = wx.getStorageSync('m_id') ? wx.getStorageSync('m_id') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var page = that.page;\r\n      var pagesize = that.pagesize;\r\n      var goods_id = that.goods_id;\r\n      var good_skuid = that.good_skuid;\r\n      var order_skuid = that.order_skuid;\r\n      var shop_type = that.shop_type;\r\n      var img_arr = that.img_arr;\r\n\r\n      if (goods_id > 0) {\r\n        wx.request({\r\n          url: weburl + '/api/client/get_order_comment',\r\n          method: 'POST',\r\n          data: {\r\n            username: username,\r\n            access_token: token,\r\n            goods_id: goods_id,\r\n            good_skuid: good_skuid,\r\n            order_skuid: order_skuid,\r\n            m_id: m_id,\r\n            shop_type: shop_type\r\n          },\r\n          header: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n            'Accept': 'application/json'\r\n          },\r\n          success: function (res) {\r\n            var comm_list = res.data.result;\r\n            var ret_info = res.data.info;\r\n            var all_rows = res.data.all_rows ? res.data.all_rows : 1;\r\n            console.log('获取订单评论信息 :' + res.data, 'goods_id:', goods_id); //console.log(res.data);\r\n\r\n            if (comm_list) {\r\n              if (comm_list[0]['img1'] != 'undefined' && comm_list[0]['img1'] != '') img_arr[0] = comm_list[0]['img1'];\r\n              if (comm_list[0]['img2'] != 'undefined' && comm_list[0]['img2'] != '') img_arr[1] = comm_list[0]['img2'];\r\n              if (comm_list[0]['img3'] != 'undefined' && comm_list[0]['img3'] != '') img_arr[2] = comm_list[0]['img3'];\r\n              that.setData({\r\n                comm_list: that.comm_list.concat(comm_list),\r\n                all_rows: all_rows,\r\n                img_arr: img_arr,\r\n                comment_level: comm_list[0]['level'],\r\n                content: comm_list[0]['desc']\r\n              });\r\n              console.log('comm_list:', comm_list, 'img list:', img_arr);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n    comment_star: function (e) {\r\n      var that = this;\r\n      var star_id = e.currentTarget.dataset.starId;\r\n      var comment_level = that.comment_level;\r\n\r\n      if (star_id == comment_level) {\r\n        comment_level = comment_level - 1;\r\n      } else {\r\n        comment_level = star_id;\r\n      }\r\n\r\n      that.setData({\r\n        comment_level: comment_level\r\n      });\r\n    },\r\n    formSubmit: function (e) {\r\n      var id = e.target.id;\r\n      adds = e.detail.value;\r\n      adds.program_id = getApp().globalData.jtappid;\r\n      adds.openid = getApp().globalData._openid;\r\n      adds.zx_info_id = this.zx_info_id;\r\n      this.upload();\r\n    },\r\n    upload: function () {\r\n      var that = this;\r\n      var goods_id = that.goods_id;\r\n      var new_img_addr = that.new_img_arr; //本次上传图片的手机端文件地址\r\n\r\n      var new_img_url = []; //本次上传图片的服务端url\r\n\r\n      for (var i = 0; i < new_img_addr.length; i++) {\r\n        var count = new_img_addr.length;\r\n        wx.uploadFile({\r\n          url: uploadurl,\r\n          filePath: new_img_addr[i],\r\n          name: 'wechat_upimg',\r\n          //formData: adds,\r\n          formData: {\r\n            latitude: encodeURI(0.0),\r\n            longitude: encodeURI(0.0),\r\n            restaurant_id: encodeURI(0),\r\n            city: encodeURI('杭州'),\r\n            prov: encodeURI('浙江'),\r\n            name: encodeURI(goods_id) // 名称\r\n\r\n          },\r\n          // HTTP 请求中其他额外的 form data\r\n          success: function (res) {\r\n            var retinfo = JSON.parse(res.data.trim());\r\n\r\n            if (retinfo['status'] == \"y\") {\r\n              new_img_url.push(retinfo['result']['img_url']);\r\n              that.setData({\r\n                new_img_url: new_img_url\r\n              });\r\n              count--;\r\n              console.log('图片上传完成:', that.new_img_url, ' count:', count);\r\n\r\n              if (count == 0) {\r\n                that.send_comment();\r\n              }\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      wx.showToast({\r\n        title: '已提交！',\r\n        duration: 2000\r\n      });\r\n      var content = that.content;\r\n\r\n      if (!content) {\r\n        that.setData({\r\n          content: '图片:'\r\n        });\r\n      }\r\n    },\r\n    upimg: function () {\r\n      var that = this;\r\n      var new_img_arr = that.new_img_arr;\r\n      var img_arr = that.img_arr;\r\n\r\n      if (img_arr.length + new_img_arr.length < 3) {\r\n        wx.chooseImage({\r\n          sizeType: ['original', 'compressed'],\r\n          success: function (res) {\r\n            that.setData({\r\n              //img_arr: all_img_arr.concat(res.tempFilePaths),\r\n              new_img_arr: new_img_arr.concat(res.tempFilePaths)\r\n            });\r\n            console.log('本次上传图片:', that.new_img_arr);\r\n          }\r\n        });\r\n      } else {\r\n        wx.showToast({\r\n          title: '最多上传三张图片',\r\n          icon: 'loading',\r\n          duration: 3000\r\n        });\r\n      }\r\n    },\r\n    cancel_upimg: function (e) {\r\n      var that = this;\r\n      var id = e.currentTarget.dataset.id;\r\n      var img_tmp = [];\r\n      var old_img_arr = that.img_arr;\r\n      var j = 0;\r\n      console.log('cancel_upimg:', old_img_arr.length, 'id:', id);\r\n\r\n      for (var i = 0; i < old_img_arr.length; i++) {\r\n        if (i != id) {\r\n          img_tmp[j++] = old_img_arr[i];\r\n        }\r\n      }\r\n\r\n      that.setData({\r\n        img_arr: img_tmp\r\n      });\r\n    },\r\n    cancel_new_upimg: function (e) {\r\n      var that = this;\r\n      var id = e.currentTarget.dataset.id;\r\n      var img_tmp = [];\r\n      var all_img_arr = that.img_arr;\r\n      var new_img_arr = that.new_img_arr;\r\n      var j = 0;\r\n      console.log('cancel_upimg:', new_img_arr.length, 'id:', id);\r\n\r\n      for (var i = 0; i < new_img_arr.length; i++) {\r\n        if (i != id) {\r\n          img_tmp[j++] = new_img_arr[i];\r\n        }\r\n      }\r\n\r\n      that.setData({\r\n        new_img_arr: img_tmp\r\n      });\r\n    },\r\n    bindTextAreaBlur: function (e) {\r\n      var that = this;\r\n      that.setData({\r\n        content: e.detail.value\r\n      });\r\n    },\r\n    sendCommentBtnTap: function () {\r\n      var that = this;\r\n      var upimage = that.new_img_arr;\r\n      var content = that.content ? that.content : '';\r\n\r\n      if (content == '') {\r\n        wx.showToast({\r\n          title: '评论内容不能为空',\r\n          icon: 'none',\r\n          duration: 1500\r\n        });\r\n      } else {\r\n        if (upimage.length > 0) {\r\n          that.upload();\r\n        } else {\r\n          //console.log('本次没有需上传图片:', upimage) \r\n          that.send_comment();\r\n        }\r\n      }\r\n    },\r\n    send_comment: function () {\r\n      var that = this;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var m_id = wx.getStorageSync('m_id') ? wx.getStorageSync('m_id') : '';\r\n      var goods_id = that.goods_id;\r\n      var goods_skuid = that.goods_skuid;\r\n      var order_skuid = that.order_skuid;\r\n      var upimg_url = that.upimg_url;\r\n      upimg_url = upimg_url.concat(that.img_arr);\r\n      upimg_url = upimg_url.concat(that.new_img_url);\r\n      var comment_img1 = upimg_url[0] ? upimg_url[0] : '';\r\n      var comment_img2 = upimg_url[1] ? upimg_url[1] : '';\r\n      var comment_img3 = upimg_url[2] ? upimg_url[2] : '';\r\n      var content = that.content ? that.content : '';\r\n      var product_comment_level = that.comment_level ? that.comment_level : 0;\r\n      var shop_type = that.shop_type;\r\n      var comm_type = that.comm_type;\r\n      console.log('提交评论:', upimg_url, content);\r\n      wx.request({\r\n        url: weburl + '/api/client/order_comment',\r\n        method: 'POST',\r\n        data: {\r\n          username: username,\r\n          access_token: token,\r\n          goods_id: goods_id,\r\n          goods_skuid: goods_skuid,\r\n          order_skuid: order_skuid,\r\n          comment_img1: comment_img1,\r\n          comment_img2: comment_img2,\r\n          comment_img3: comment_img3,\r\n          content: content,\r\n          product_comment_level: product_comment_level,\r\n          shop_type: shop_type,\r\n          comm_type: comm_type\r\n        },\r\n        header: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'Accept': 'application/json'\r\n        },\r\n        success: function (res) {\r\n          wx.showToast({\r\n            title: '点评完成',\r\n            icon: 'success',\r\n            duration: 1000\r\n          });\r\n          console.log('点评完成', res);\r\n          wx.navigateBack();\r\n        }\r\n      });\r\n    },\r\n    showCartToast: function () {\r\n      wx.showToast({\r\n        title: '已加入购物车',\r\n        icon: 'success',\r\n        duration: 1000\r\n      });\r\n    },\r\n    setData: function (obj) {\r\n      let that = this;\r\n      let keys = [];\r\n      let val, data;\r\n      Object.keys(obj).forEach(function (key) {\r\n        keys = key.split('.');\r\n        val = obj[key];\r\n        data = that.$data;\r\n        keys.forEach(function (key2, index) {\r\n          if (index + 1 == keys.length) {\r\n            that.$set(data, key2, val);\r\n          } else {\r\n            if (!data[key2]) {\r\n              that.$set(data, key2, {});\r\n            }\r\n          }\r\n\r\n          data = data[key2];\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n","import mod from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./comment.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./comment.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}