{"version":3,"sources":["webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/main.js","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/order/checkout/checkout.vue?dd91","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/order/checkout/checkout.vue?c0d3","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/order/checkout/checkout.vue?89cb","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/order/checkout/checkout.vue?1986","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/order/checkout/checkout.vue","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/order/checkout/checkout.vue?7b16","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/order/checkout/checkout.vue?555e"],"names":["createPage","Page","util","require","weburl","getApp","globalData","shop_type","data","title_name","title_logo","amount","carts","cartIds","addressList","addressData","addressIndex","address_id","username","token","page","pagesize","page_num","page_red","page_red_num","all_rows","all_red_rows","showmorehidden","modalHiddenCoupon","couponType","selectedAllStatus","selectedRedAllStatus","discountpay","payamount","order_num","dkheight","delivery_price","order_type","order_note","order_image","is_buymyself","order_shape","order_voice","order_voicetime","order_color","card_register_info","card_name_info","card_cele_info","card_love_info","card_template","coupons_list","selected_coupon_id","selected_coupon_name","selected_coupon_content","selected_coupon_footer","selected_coupon_starttime","selected_coupon_endtime","selected_coupon_type","selected_coupon_amount","selected_coupon_index","selected_couponimage","coupons_quan_list","selected_coupon_quan_index","selected_coupon_quan_amount","coupons_red_list","selected_coupon_red_index","selected_coupon_red_amount","components","props","onLoad","options","that","readCarts","wx","getSystemInfo","success","res","winHeight","windowHeight","console","log","setData","onShow","pages","getCurrentPages","length","loadAddress","methods","formSubmit","e","formId","detail","form_name","currentTarget","dataset","name","confirmOrder","getMoreOrdersTapTag","submintFromId","getStorageSync","request","url","method","access_token","header","showGoods","skuId","goods_id","goodsId","goods_name","goodsName","goods_price","goodsPrice","goods_sale","goodsSale","goods_info","goodsInfo","goods_image","image","navigateTo","order_numFun","parseInt","value","toFixed","goBack","prevPage","customerSource","source","curIndex","uni","navigateBack","parseFloat","JSON","parse","cartIdArray","split","showToast","title","icon","duration","selected_coupon_red_id","selected_coupon_red_type","status","stringify","sku_id","buy_type","note","coupon_id","coupon_type","coupon_amount","coupon_red_id","coupon_red_type","coupon_red_amount","result","order_data","info","delete_cart","zero_pay","order_no","orderObjects","setTimeout","addressObjects","address","i","bindSelectRedAll","query_coupon","bindSelectAll","bindSelectCoupon","couponindex","couponid","couponname","couponcontent","couponfooter","starttime","endtime","coupontype","couponamount","couponimage","openid","coupons_status","coupons_type","quan_type","getDateStr","concat","coupon_pay","couponSelectedId","couponSelectedType","couponSelectedAmount","couponSelectedRedId","couponSelectedRedType","couponSelectedRedAmount","modalBindcancelCoupon","bindPickerChange","bindCreateNew","modalBindaconfirmCoupon","coupon_list","couponSelectedStatus","obj","keys","val","Object","forEach","key","$data","key2","index","$set"],"mappings":";;;;;;;;;;kDAAA,wCAAmB;;AAEnB;AACA,4G;AACAA,UAAU,CAACC,iBAAD,CAAV,C;;;;;;;;;;;;;ACJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAuF;AAC3B;AACL;AACa;;;AAGpE;AAC+I;AAC/I,gBAAgB,wIAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,mFAAM;AACR,EAAE,4FAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACvCf;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACNA;AAAA;AAAA;AAAA;AAAszB,CAAgB,ysBAAG,EAAC,C;;;;;;;;;;;;mICA10B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,IAAI,GAAGC,mBAAO,CAAC,gCAAD,CAAlB;AACA,IAAIC,MAAM,GAAGC,MAAM,GAAGC,UAAT,CAAoBF,MAAjC;AACA,IAAIG,SAAS,GAAGF,MAAM,GAAGC,UAAT,CAAoBC,SAApC,C;;AAEe;AACbC,MADa,kBACN;AACL,WAAO;AACLC,gBAAU,EAAE,MADP;AAELC,gBAAU,EAAE,mCAFP;AAGLC,YAAM,EAAE,CAHH;AAILC,WAAK,EAAE,EAJF;AAKLC,aAAO,EAAE,IALJ;AAMLC,iBAAW,EAAE,EANR;AAORC,iBAAW,EAAC,EAPJ;AAQLC,kBAAY,EAAE,CART;AASRC,gBAAU,EAAE,CATJ;AAULC,cAAQ,EAAE,IAVL;AAWLC,WAAK,EAAE,IAXF;AAYLC,UAAI,EAAE,CAZD;AAaLC,cAAQ,EAAE,CAbL;AAcLC,cAAQ,EAAE,CAdL;AAeLC,cAAQ,EAAE,CAfL;AAgBLC,kBAAY,EAAE,CAhBT;AAiBLC,cAAQ,EAAE,CAjBL;AAkBLC,kBAAY,EAAE,CAlBT;AAmBLnB,eAAS,EAAEA,SAnBN;AAoBLoB,oBAAc,EAAE,KApBX;AAqBLC,uBAAiB,EAAE,IArBd;AAsBLC,gBAAU,EAAE,CAtBP;AAuBLC,uBAAiB,EAAE,KAvBd;AAwBLC,0BAAoB,EAAE,KAxBjB;AAyBLC,iBAAW,EAAE,CAzBR;AA0BL;AACAC,eAAS,EAAE,CA3BN;AA4BL;AACAC,eAAS,EAAE,CA7BN,CA6BQ;AA7BR;AA+BLC,cAAQ,EAAE,EA/BL;AAgCLC,oBAAc,EAAE,EAhCX;AAiCLC,gBAAU,EAAE,EAjCP;AAkCLC,gBAAU,EAAE,EAlCP;AAmCLC,iBAAW,EAAE,EAnCR;AAoCLC,kBAAY,EAAE,EApCT;AAqCLC,iBAAW,EAAE,EArCR;AAsCLC,iBAAW,EAAE,EAtCR;AAuCLC,qBAAe,EAAE,EAvCZ;AAwCLC,iBAAW,EAAE,EAxCR;AAyCLC,wBAAkB,EAAE,EAzCf;AA0CLC,oBAAc,EAAE,EA1CX;AA2CLC,oBAAc,EAAE,EA3CX;AA4CLC,oBAAc,EAAE,EA5CX;AA6CLC,mBAAa,EAAE,EA7CV;AA8CLC,kBAAY,EAAE,EA9CT;AA+CLC,wBAAkB,EAAE,EA/Cf;AAgDLC,0BAAoB,EAAE,EAhDjB;AAiDLC,6BAAuB,EAAE,EAjDpB;AAkDLC,4BAAsB,EAAE,EAlDnB;AAmDLC,+BAAyB,EAAE,EAnDtB;AAoDLC,6BAAuB,EAAE,EApDpB;AAqDLC,0BAAoB,EAAE,EArDjB;AAsDLC,4BAAsB,EAAE,EAtDnB;AAuDLC,2BAAqB,EAAE,EAvDlB;AAwDLC,0BAAoB,EAAE,EAxDjB;AAyDLC,uBAAiB,EAAE,EAzDd;AA0DLC,gCAA0B,EAAE,EA1DvB;AA2DLC,iCAA2B,EAAE,EA3DxB;AA4DLC,sBAAgB,EAAE,EA5Db;AA6DLC,+BAAyB,EAAE,EA7DtB;AA8DLC,gCAA0B,EAAE,EA9DvB,EAAP;;AAgED,GAlEY;;AAoEbC,YAAU,EAAE,EApEC;AAqEbC,OAAK,EAAE,EArEM;AAsEbC,QAAM,EAAE,gBAAUC,OAAV,EAAmB;AACzB,QAAIC,IAAI,GAAG,IAAX;AACH;;;;;;;AAOGA,QAAI,CAACC,SAAL,CAAeF,OAAf;AACAG,MAAE,CAACC,aAAH,CAAiB;AACfC,aAAO,EAAE,iBAAUC,GAAV,EAAe;AACtB,YAAIC,SAAS,GAAGD,GAAG,CAACE,YAApB;AACAC,eAAO,CAACC,GAAR,CAAYH,SAAZ;AACAN,YAAI,CAACU,OAAL,CAAa;AACX9C,kBAAQ,EAAE0C,SAAS,GAAGA,SAAS,GAAG,IAAxB,GAA+B,EAD9B,EAAb;;AAGD,OAPc,EAAjB;;AASD,GAzFY;AA0FbK,QAAM,EAAE,kBAAY;AAClB,QAAIX,IAAI,GAAG,IAAX;AACA,QAAIY,KAAK,GAAGC,eAAe,EAA3B;;AAEA,QAAID,KAAK,CAACE,MAAN,GAAe,CAAnB,EAAsB;AACpBd,UAAI,CAACU,OAAL,CAAa;AACXvE,kBAAU,EAAE,yBADD,EAAb;;AAGD;AACJ6D,QAAI,CAACe,WAAL;;AAEE,GArGY;AAsGbC,SAAO,EAAE;AACPC,cAAU,EAAE,oBAAUC,CAAV,EAAa;AACvB,UAAIlB,IAAI,GAAG,IAAX;AACA,UAAImB,MAAM,GAAGD,CAAC,CAACE,MAAF,CAASD,MAAtB;AACA,UAAIE,SAAS,GAAGH,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBC,IAAxC;AACAhB,aAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCU,MAApC,EAA4C,aAA5C,EAA2DE,SAA3D;;AAEA,UAAIA,SAAS,IAAI,cAAjB,EAAiC;AAC/BrB,YAAI,CAACyB,YAAL;AACD,OAFD,MAEO,IAAIJ,SAAS,IAAI,eAAjB,EAAkC;AACvCrB,YAAI,CAAC0B,mBAAL;AACD;;AAED,UAAIP,MAAJ,EAAYnB,IAAI,CAAC2B,aAAL,CAAmBR,MAAnB;AACb,KAdM;AAeP;AACAQ,iBAAa,EAAE,uBAAUR,MAAV,EAAkB;AAC/B,UAAInB,IAAI,GAAG,IAAX;AACA,UAAImB,MAAM,GAAGA,MAAb;AACA,UAAInF,SAAS,GAAGgE,IAAI,CAAChE,SAArB;AACA,UAAIW,QAAQ,GAAGuD,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,IAAgC1B,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,CAAhC,GAAgE,EAA/E;AACA,UAAIhF,KAAK,GAAGsD,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,IAA6B1B,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,CAA7B,GAA0D,GAAtE;AACA1B,QAAE,CAAC2B,OAAH,CAAW;AACTC,WAAG,EAAEjG,MAAM,GAAG,gCADL;AAETkG,cAAM,EAAE,MAFC;AAGT9F,YAAI,EAAE;AACJU,kBAAQ,EAAEA,QADN;AAEJqF,sBAAY,EAAEpF,KAFV;AAGJuE,gBAAM,EAAEA,MAHJ;AAIJnF,mBAAS,EAAEA,SAJP,EAHG;;AASTiG,cAAM,EAAE;AACN,0BAAgB,mCADV;AAEN,oBAAU,kBAFJ,EATC;;AAaT7B,eAAO,EAAE,iBAAUC,GAAV,EAAe;AACtBG,iBAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgDJ,GAAG,CAACpE,IAApD;AACD,SAfQ,EAAX;;AAiBD,KAvCM;AAwCPiG,aAAS,EAAE,mBAAUhB,CAAV,EAAa;AACtB,UAAIiB,KAAK,GAAGjB,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBY,KAApC;AACA,UAAIxF,QAAQ,GAAGuD,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,IAAgC1B,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,CAAhC,GAAgE,EAA/E;AACA,UAAIhF,KAAK,GAAGsD,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,IAA6B1B,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,CAA7B,GAA0D,GAAtE;AACA,UAAIQ,QAAQ,GAAGlB,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBc,OAAvC;AACA,UAAIC,UAAU,GAAGpB,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBgB,SAAzC;AACA,UAAIC,WAAW,GAAGtB,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBkB,UAA1C;AACA,UAAIC,UAAU,GAAGxB,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBoB,SAAzC;AACA,UAAIC,UAAU,GAAG1B,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBsB,SAAzC;AACA,UAAIC,WAAW,GAAG5B,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBwB,KAA1C;AACA7C,QAAE,CAAC8C,UAAH,CAAc;AACZlB,WAAG,EAAE,kCAAkCK,KAAlC,GAA0C,cAA1C,GAA2DG,UAA3D,GAAwE,MAAxE,GAAiFF,QAAjF,GAA4F,eAA5F,GAA8GI,WAA9G,GAA4H,QAA5H,GAAuIE,UAAvI,GAAoJ,cAApJ,GAAqK,SAArK,GAAiLI,WAAjL,GAA+L,SAA/L,GAA2MlG,KAA3M,GAAmN,YAAnN,GAAkOD,QAD3N,EAAd;;AAGD,KArDM;AAsDPsG,gBAAY,EAAE,sBAAU/B,CAAV,EAAa;AACzB,UAAIlB,IAAI,GAAG,IAAX;AACA,UAAIrC,SAAS,GAAGuF,QAAQ,CAAChC,CAAC,CAACE,MAAF,CAAS+B,KAAT,GAAiBjC,CAAC,CAACE,MAAF,CAAS+B,KAA1B,GAAkC,CAAnC,CAAxB;AACA,UAAI/G,MAAM,GAAG4D,IAAI,CAAC5D,MAAlB;AACA,UAAIqB,WAAW,GAAGuC,IAAI,CAACvC,WAAL,GAAmBuC,IAAI,CAACvC,WAAxB,GAAsC,CAAxD;AACA,UAAIC,SAAS,GAAG,CAACtB,MAAM,GAAGuB,SAAT,GAAqBF,WAAtB,EAAmC2F,OAAnC,CAA2C,CAA3C,CAAhB;AACA5C,aAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCrE,MAAjC,EAAyC,eAAzC,EAA0DqB,WAA1D,EAAuE,aAAvE,EAAsFE,SAAtF,EAAiG,aAAjG,EAAgHD,SAAhH;AACAsC,UAAI,CAACU,OAAL,CAAa;AACX/C,iBAAS,EAAEA,SADA;AAEXD,iBAAS,EAAEA,SAFA,EAAb;;AAID,KAjEM;AAkEP2F,UAAM,EAAE,kBAAY;AAClB,UAAIzC,KAAK,GAACC,eAAe,EAAzB,CAA6ByC,QAAQ,GAAC,IAAtC;AACG,UAAG1C,KAAK,CAACE,MAAN,GAAa,CAAhB,EAAkB;AACdwC,gBAAQ,GAAC1C,KAAK,CAACA,KAAK,CAACE,MAAN,GAAa,CAAd,CAAd;AACH;AACD,UAAGwC,QAAH,EAAY;;;;;AAKZA,gBAAQ,CAAC5C,OAAT,CAAiB;AAChB6C,wBAAc,EAAGvD,IAAI,CAACwD,MAAL,CAAYxD,IAAI,CAACyD,QAAjB,CADD,EAAjB;;;AAIC;AACDC,SAAG,CAACC,YAAJ;AACJ,KAlFM;AAmFP1D,aAAS,EAAE,mBAAUF,OAAV,EAAmB;AAC5B,UAAIC,IAAI,GAAG,IAAX;AACD;AACC,UAAI5D,MAAM,GAAGwH,UAAU,CAAC7D,OAAO,CAAC3D,MAAT,CAAvB,CAH4B,CAGa;AACzC,UAAIsB,SAAS,GAAGsC,IAAI,CAACtC,SAArB;AACA,UAAID,WAAW,GAAGuC,IAAI,CAACvC,WAAvB;;AAEA,UAAIpB,KAAK,GAAGwH,IAAI,CAACC,KAAL,CAAW/D,OAAO,CAAC1D,KAAnB,CAAZ;AACA,UAAIC,OAAO,GAAGyD,OAAO,CAACzD,OAAtB;;AAEA,UAAIuB,cAAc,GAAG+F,UAAU,CAACvH,KAAK,CAAC,CAAD,CAAL,CAASwB,cAAV,CAA/B;AACA,UAAIkG,WAAW,GAAGzH,OAAO,CAAC0H,KAAR,CAAc,GAAd,CAAlB;AACA,UAAIlG,UAAU,GAAGiC,OAAO,CAACjC,UAAR,GAAqBiC,OAAO,CAACjC,UAA7B,GAA0C,EAA3D;AACA,UAAIC,UAAU,GAAGgC,OAAO,CAAChC,UAAR,GAAqBgC,OAAO,CAAChC,UAA7B,GAA0C,EAA3D;AACA,UAAIC,WAAW,GAAG+B,OAAO,CAAC/B,WAAR,GAAsB+B,OAAO,CAAC/B,WAA9B,GAA4C,EAA9D;AACA,UAAIE,WAAW,GAAG6B,OAAO,CAAC7B,WAAR,GAAsB6B,OAAO,CAAC7B,WAA9B,GAA4C,CAA9D,CAf4B,CAeqC;;AAEjE,UAAIC,WAAW,GAAG4B,OAAO,CAAC5B,WAAR,GAAsB4B,OAAO,CAAC5B,WAA9B,GAA4C,EAA9D;AACA,UAAIC,eAAe,GAAG2B,OAAO,CAAC3B,eAAR,GAA0B2B,OAAO,CAAC3B,eAAlC,GAAoD,CAA1E,CAlB4B,CAkBiD;;AAE7E,UAAIC,WAAW,GAAG0B,OAAO,CAAC1B,WAAR,GAAsB0B,OAAO,CAAC1B,WAA9B,GAA4C,MAA9D,CApB4B,CAoB0C;;AAEtE,UAAIJ,YAAY,GAAG8B,OAAO,CAAC9B,YAAR,GAAuB8B,OAAO,CAAC9B,YAA/B,GAA8C,CAAjE,CAtB4B,CAsBwC;;AAEpE,UAAIK,kBAAkB,GAAGyB,OAAO,CAACzB,kBAAR,GAA6BuF,IAAI,CAACC,KAAL,CAAW/D,OAAO,CAACzB,kBAAnB,CAA7B,GAAsE,EAA/F,CAxB4B,CAwBuE;;AAEnG,UAAIC,cAAc,GAAGwB,OAAO,CAACxB,cAAR,GAAyBsF,IAAI,CAACC,KAAL,CAAW/D,OAAO,CAACxB,cAAnB,CAAzB,GAA8D,EAAnF,CA1B4B,CA0B2D;;AAEvF,UAAIC,cAAc,GAAGuB,OAAO,CAACvB,cAAR,GAAyBqF,IAAI,CAACC,KAAL,CAAW/D,OAAO,CAACvB,cAAnB,CAAzB,GAA8D,EAAnF,CA5B4B,CA4B2D;;AAEvF,UAAIC,cAAc,GAAGsB,OAAO,CAACtB,cAAR,GAAyBoF,IAAI,CAACC,KAAL,CAAW/D,OAAO,CAACtB,cAAnB,CAAzB,GAA8D,EAAnF,CA9B4B,CA8B2D;;AAEvF,UAAIC,aAAa,GAAGqB,OAAO,CAACrB,aAAR,GAAwBmF,IAAI,CAACC,KAAL,CAAW/D,OAAO,CAACrB,aAAnB,CAAxB,GAA4D,EAAhF,CAhC4B,CAgCwD;AACpFhB,eAAS,GAAG,CAACtB,MAAM,GAAGqB,WAAV,EAAuB2F,OAAvB,CAA+B,CAA/B,CAAZ;AACJ;;;;;;;AAOI,WAAK1C,OAAL,CAAa;AACXtE,cAAM,EAAEA,MADG;AAEXsB,iBAAS,EAAEA,SAFA;AAGXG,sBAAc,EAAEA,cAHL;AAIXxB,aAAK,EAAEA,KAJI;AAKXC,eAAO,EAAEyH,WALE;AAMXjG,kBAAU,EAAEA,UAND;AAOXC,kBAAU,EAAEA,UAPD;AAQXC,mBAAW,EAAEA,WARF;AASXrB,gBAAQ,EAAEoD,OAAO,CAACpD,QATP;AAUXC,aAAK,EAAEmD,OAAO,CAACnD,KAVJ;AAWXqB,oBAAY,EAAEA,YAXH;AAYXC,mBAAW,EAAEA,WAZF;AAaXC,mBAAW,EAAEA,WAbF;AAcXC,uBAAe,EAAEA,eAdN;AAeXC,mBAAW,EAAEA,WAfF;AAgBXC,0BAAkB,EAAEA,kBAhBT;AAiBXC,sBAAc,EAAEA,cAjBL;AAkBXC,sBAAc,EAAEA,cAlBL;AAmBXC,sBAAc,EAAEA,cAnBL;AAoBXC,qBAAa,EAAEA,aApBJ,EAAb;;;AAuBA8B,aAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDzC,WAAlD,EAA+D,cAA/D,EAA+EE,WAA/E,EAA4F,gBAA5F,EAA8GQ,aAA9G,EAA6H,kBAA7H,EAAiJH,cAAjJ,EAAiK,sBAAjK,EAAyLD,kBAAzL,EAA6M,kBAA7M,EAAiOG,cAAjO;AACJ,KApJS;;AAsJPgD,gBAAY,EAAE,wBAAY;AACxB,UAAIzB,IAAI,GAAG,IAAX;AACA,UAAIrC,SAAS,GAAGqC,IAAI,CAACrC,SAArB;;AAEA,UAAIA,SAAS,IAAI,CAAjB,EAAoB;AAClBuC,UAAE,CAAC+D,SAAH,CAAa;AACXC,eAAK,EAAE,OADI;AAEXC,cAAI,EAAE,SAFK;AAGXC,kBAAQ,EAAE,IAHC,EAAb;;AAKA;AACD;;AAED,UAAInG,YAAY,GAAG+B,IAAI,CAAC/B,YAAxB,CAbwB,CAac;AACzC,UAAIvB,UAAU,GAAGsD,IAAI,CAACtD,UAAL,GAAiBsD,IAAI,CAACtD,UAAtB,GAAiC,CAAlD;AACG,UAAIL,KAAK,GAAG2D,IAAI,CAAC3D,KAAjB;AACA,UAAIC,OAAO,GAAG0D,IAAI,CAAC1D,OAAnB;AACA,UAAIK,QAAQ,GAAGuD,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,IAAgC1B,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,CAAhC,GAAgE,EAA/E;AACA,UAAIhF,KAAK,GAAGsD,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,IAA6B1B,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,CAA7B,GAA0D,GAAtE;AACA,UAAIrE,iBAAiB,GAAGyC,IAAI,CAACzC,iBAA7B;AACA,UAAIC,oBAAoB,GAAGwC,IAAI,CAACxC,oBAAhC;AACA,UAAI+B,0BAA0B,GAAGS,IAAI,CAACT,0BAAL,GAAkCS,IAAI,CAACT,0BAAvC,GAAoE,CAArG;AACA,UAAIG,yBAAyB,GAAGM,IAAI,CAACN,yBAAL,GAAiCM,IAAI,CAACN,yBAAtC,GAAkE,CAAlG;AACAc,aAAO,CAACC,GAAR,CAAY,0CAAZ,EAAwDT,IAAI,CAACT,0BAA7D,EAAyF,4BAAzF,EAAuHS,IAAI,CAACN,yBAA5H,EAAuJ,oBAAvJ,EAA6KM,IAAI,CAACP,gBAAlL;AACA,UAAIN,sBAAsB,GAAG5B,iBAAiB,GAAGyC,IAAI,CAACV,iBAAL,CAAuBC,0BAAvB,EAAmD,QAAnD,CAAH,GAAkE,CAAhH;AACA,UAAIX,kBAAkB,GAAGrB,iBAAiB,GAAGyC,IAAI,CAACV,iBAAL,CAAuBC,0BAAvB,EAAmD,IAAnD,CAAH,GAA8D,CAAxG;AACA,UAAIL,oBAAoB,GAAG3B,iBAAiB,GAAGyC,IAAI,CAACV,iBAAL,CAAuBC,0BAAvB,EAAmD,MAAnD,CAAH,GAAgE,CAA5G;AACA,UAAII,0BAA0B,GAAGnC,oBAAoB,GAAGwC,IAAI,CAACP,gBAAL,CAAsBC,yBAAtB,EAAiD,QAAjD,CAAH,GAAgE,CAArH;AACA,UAAI2E,sBAAsB,GAAG7G,oBAAoB,GAAGwC,IAAI,CAACP,gBAAL,CAAsBC,yBAAtB,EAAiD,IAAjD,CAAH,GAA4D,CAA7G;AACA,UAAI4E,wBAAwB,GAAG9G,oBAAoB,GAAGwC,IAAI,CAACP,gBAAL,CAAsBC,yBAAtB,EAAiD,MAAjD,CAAH,GAA8D,CAAjH;AACA,UAAI6E,MAAM,GAAG,CAAb;AACA,UAAIvI,SAAS,GAAGgE,IAAI,CAAChE,SAArB;AACA,UAAII,MAAM,GAAG4D,IAAI,CAAC5D,MAAlB;AACA,UAAI0B,UAAU,GAAGG,YAAY,IAAE,CAAd,GAAgB,KAAhB,GAAsB,MAAvC;AACA,UAAID,WAAW,GAAGgC,IAAI,CAAChC,WAAvB;AACA,UAAID,UAAU,GAAGiC,IAAI,CAACjC,UAAtB;AACA,UAAIG,WAAW,GAAG8B,IAAI,CAAC9B,WAAvB;AACA,UAAIC,WAAW,GAAG6B,IAAI,CAAC7B,WAAvB;AACA,UAAIC,eAAe,GAAG4B,IAAI,CAAC5B,eAA3B;AACA,UAAIC,WAAW,GAAG2B,IAAI,CAAC3B,WAAvB;AACA,UAAIV,SAAS,GAAGqC,IAAI,CAACrC,SAArB;AACA,UAAIW,kBAAkB,GAAGuF,IAAI,CAACW,SAAL,CAAexE,IAAI,CAAC1B,kBAApB,CAAzB;AACA,UAAIC,cAAc,GAAGsF,IAAI,CAACW,SAAL,CAAexE,IAAI,CAACzB,cAApB,CAArB;AACA,UAAIC,cAAc,GAAGqF,IAAI,CAACW,SAAL,CAAexE,IAAI,CAACxB,cAApB,CAArB;AACA,UAAIC,cAAc,GAAGoF,IAAI,CAACW,SAAL,CAAexE,IAAI,CAACvB,cAApB,CAArB;AACA,UAAIC,aAAa,GAAGmF,IAAI,CAACW,SAAL,CAAexE,IAAI,CAACtB,aAApB,CAApB;AACA,UAAI,CAACX,UAAL,EAAiBA,UAAU,GAAG,cAAb,CA9CO,CA8CsB;;AAE9CyC,aAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BzC,WAA5B,EAAyC,cAAzC,EAAyDE,WAAzD,EAAsE,gBAAtE,EAAwFQ,aAAxF,EAAuG,kBAAvG,EAA2HF,cAA3H;AACA0B,QAAE,CAAC2B,OAAH,CAAW;AACTC,WAAG,EAAEjG,MAAM,GAAG,uBADL;AAETkG,cAAM,EAAE,MAFC;AAGT9F,YAAI,EAAE;AACJU,kBAAQ,EAAEA,QADN;AAEJqF,sBAAY,EAAEpF,KAFV;AAGJZ,mBAAS,EAAEA,SAHP;AAIJyI,gBAAM,EAAEnI,OAJJ;AAKJoI,kBAAQ,EAAE,MALN;AAMJ5G,oBAAU,EAAEA,UANR;AAOJ6G,cAAI,EAAE5G,UAPF;AAQJC,qBAAW,EAAEA,WART;AASJE,qBAAW,EAAEA,WATT;AAUJC,qBAAW,EAAEA,WAVT;AAWJC,yBAAe,EAAEA,eAXb;AAYJC,qBAAW,EAAEA,WAZT;AAaJC,4BAAkB,EAAEA,kBAbhB;AAcJC,wBAAc,EAAEA,cAdZ;AAeJC,wBAAc,EAAEA,cAfZ;AAgBJC,wBAAc,EAAEA,cAhBZ;AAiBJC,uBAAa,EAAEA,aAjBX;AAkBJkG,mBAAS,EAAErH,iBAAiB,GAAGqB,kBAAH,GAAwB,CAlBhD;AAmBJiG,qBAAW,EAAEtH,iBAAiB,GAAG2B,oBAAH,GAA0B,CAnBpD;AAoBJ4F,uBAAa,EAAEvH,iBAAiB,GAAG4B,sBAAH,GAA4B,CApBxD;AAqBJ4F,uBAAa,EAAEvH,oBAAoB,GAAG6G,sBAAH,GAA4B,CArB3D;AAsBJW,yBAAe,EAAExH,oBAAoB,GAAG8G,wBAAH,GAA8B,CAtB/D;AAuBJW,2BAAiB,EAAEzH,oBAAoB,GAAGmC,0BAAH,GAAgC,CAvBnE;AAwBJhC,mBAAS,EAAEA,SAAS,GAAGA,SAAH,GAAe,CAxB/B;AAyBJM,sBAAY,EAAEA,YAAY,GAAGA,YAAH,GAAkB,CAzBxC,EAyB2C;AACrDvB,oBAAU,EAACA,UA1BD,EAHG;;;AAgCTuF,cAAM,EAAE;AACN,0BAAgB,mCADV;AAEN,oBAAU,kBAFJ,EAhCC;;AAoCT7B,eAAO,EAAE,iBAAUC,GAAV,EAAe;AACtBG,iBAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBJ,GAAG,CAACpE,IAAJ,CAASiJ,MAA9B;AACA,cAAIC,UAAU,GAAG9E,GAAG,CAACpE,IAAJ,CAASiJ,MAA1B;;AAEA,cAAI,CAAC7E,GAAG,CAACpE,IAAJ,CAASmJ,IAAd,EAAoB;AAClB;;;;;;AAMA,gBAAID,UAAU,CAAC,WAAD,CAAV,IAA2B,CAA/B,EAAkC;AAChCnF,kBAAI,CAACqF,WAAL;AACArF,kBAAI,CAACsF,QAAL,CAAcH,UAAU,CAAC,UAAD,CAAxB,EAFgC,CAEO;AACxC,aAHD,MAGO;AACLjF,gBAAE,CAAC8C,UAAH,CAAc;AACZlB,mBAAG,EAAE,yCAAyCqD,UAAU,CAAC,UAAD,CAAnD,GAAkE,YAAlE,GAAiFA,UAAU,CAAC,WAAD,CAA3F,GAA2G,gBAA3G,GAA8HlH,YADvH,EAAd;;AAGD;AACF,WAfD,MAeO;AACLiC,cAAE,CAAC+D,SAAH,CAAa;AACXC,mBAAK,EAAE7D,GAAG,CAACpE,IAAJ,CAASmJ,IADL;AAEXjB,kBAAI,EAAE,MAFK;AAGXC,sBAAQ,EAAE,IAHC,EAAb;;AAKD;AACF,SA9DQ,EAAX;;AAgED,KAvQM;AAwQPiB,eAAW,EAAE,uBAAY;AACvB,UAAIrF,IAAI,GAAG,IAAX;AACA,UAAIrD,QAAQ,GAAGuD,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,IAAgC1B,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,CAAhC,GAAgE,EAA/E;AACA,UAAIhF,KAAK,GAAGsD,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,IAA6B1B,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,CAA7B,GAA0D,GAAtE;AACA,UAAI6C,MAAM,GAAGzE,IAAI,CAAC1D,OAAlB;AACA,UAAIN,SAAS,GAAGgE,IAAI,CAAChE,SAArB;AACAwE,aAAO,CAACC,GAAR,CAAY,6BAAZ,EAA2CgE,MAA3C,EANuB,CAM6B;;AAEpDvE,QAAE,CAAC2B,OAAH,CAAW;AACTC,WAAG,EAAEjG,MAAM,GAAG,yBADL;AAETkG,cAAM,EAAE,MAFC;AAGT9F,YAAI,EAAE;AACJU,kBAAQ,EAAEA,QADN;AAEJqF,sBAAY,EAAEpF,KAFV;AAGJ6H,gBAAM,EAAEA,MAHJ;AAIJzI,mBAAS,EAAEA,SAJP,EAHG;;AASTiG,cAAM,EAAE;AACN,0BAAgB,mCADV;AAEN,oBAAU,kBAFJ,EATC;;AAaT7B,eAAO,EAAE,iBAAUC,GAAV,EAAe;AACtBG,iBAAO,CAACC,GAAR,CAAY,sBAAZ,EAAoCJ,GAAG,CAACpE,IAAJ,CAASiJ,MAA7C;AACD,SAfQ,EAAX;;AAiBD,KAjSM;AAkSPI,YAAQ,EAAE,oBAAyB,KAAfC,QAAe,uEAAJ,EAAI;AACjC,UAAIvF,IAAI,GAAG,IAAX;AACA,UAAIrD,QAAQ,GAAGuD,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,IAAgC1B,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,CAAhC,GAAgE,EAA/E;AACA,UAAIhF,KAAK,GAAGsD,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,IAA6B1B,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,CAA7B,GAA0D,GAAtE;AACA,UAAI3D,YAAY,GAAG+B,IAAI,CAAC/B,YAAxB,CAJiC,CAIK;;AAEtCiC,QAAE,CAAC2B,OAAH,CAAW;AACTC,WAAG,EAAEjG,MAAM,GAAG,yBADL;AAETkG,cAAM,EAAE,MAFC;AAGT9F,YAAI,EAAE;AACJU,kBAAQ,EAAEA,QADN;AAEJqF,sBAAY,EAAEpF,KAFV;AAGJ2I,kBAAQ,EAAEA,QAHN;AAIJvJ,mBAAS,EAAEA,SAJP,EAHG;;AASTiG,cAAM,EAAE;AACN,0BAAgB,mCADV;AAEN,oBAAU,kBAFJ,EATC;;AAaT7B,eAAO,EAAE,iBAAUC,GAAV,EAAe;AACtBG,iBAAO,CAACC,GAAR,CAAY,oCAAZ,EAAkDJ,GAAG,CAACpE,IAAtD;AACA,cAAIuJ,YAAY,GAAGnF,GAAG,CAACpE,IAAJ,CAASiJ,MAA5B;;AAEA,cAAI,CAACM,YAAL,EAAmB;AACjBhF,mBAAO,CAACC,GAAR,CAAY,+CAAZ,EAA6D+E,YAA7D;AACAtF,cAAE,CAAC+D,SAAH,CAAa;AACXC,mBAAK,EAAE,OADI;AAEXC,kBAAI,EAAE,MAFK;AAGXC,sBAAQ,EAAE,IAHC,EAAb;;AAKAqB,sBAAU,CAAC,YAAY;AACrBvF,gBAAE,CAACyD,YAAH;AACD,aAFS,EAEP,IAFO,CAAV;AAGA;AACD,WAXD,MAWO;AACL,gBAAI6B,YAAY,CAAC,CAAD,CAAZ,CAAgB,aAAhB,IAAiC,CAArC,EAAwC;AACtChF,qBAAO,CAACC,GAAR,CAAY,gDAAZ,EAA8D+E,YAA9D;AACAtF,gBAAE,CAAC+D,SAAH,CAAa;AACXC,qBAAK,EAAE,QADI;AAEXC,oBAAI,EAAE,MAFK;AAGXC,wBAAQ,EAAE,IAHC,EAAb;;AAKAqB,wBAAU,CAAC,YAAY;AACrBvF,kBAAE,CAACyD,YAAH;AACD,eAFS,EAEP,IAFO,CAAV;AAGA;AACD,aAXD,MAWO;AACLzD,gBAAE,CAAC8C,UAAH,CAAc;AACZlB,mBAAG,EAAE,2BAA2ByD,QAA3B,GAAsC,UAAtC,GAAmD1B,IAAI,CAACW,SAAL,CAAegB,YAAf,CAAnD,GAAkF,gBAAlF,GAAqGvH,YAD9F,EAAd;;AAGD;AACF;AACF,SA9CQ,EAAX;;AAgDD,KAxVM;AAyVP8C,eAAW,EAAE,uBAAY;AACvB,UAAIf,IAAI,GAAG,IAAX;AACA,UAAIzD,WAAW,GAAG,EAAlB;AACH,UAAIP,SAAS,GAAGgE,IAAI,CAAChE,SAArB;AACG,UAAI0J,cAAc,GAAG,IAArB;AACA,UAAIC,OAAO,GAAG,EAAd;AACH,UAAIjJ,UAAU,GAAGsD,IAAI,CAACtD,UAAL,GAAgBsD,IAAI,CAACtD,UAArB,GAAgC,CAAjD;AACA,UAAID,YAAY,GAAGuD,IAAI,CAACvD,YAAL,GAAmBuD,IAAI,CAACvD,YAAxB,GAAqC,CAAxD;AACG,UAAIE,QAAQ,GAAGuD,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,IAAgC1B,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,CAAhC,GAAgE,EAA/E;AACA,UAAIhF,KAAK,GAAGsD,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,IAA6B1B,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,CAA7B,GAA0D,GAAtE;AACH,UAAIpF,WAAW,GAAGwD,IAAI,CAACxD,WAAvB;AACA,UAAIyB,YAAY,GAAG+B,IAAI,CAAC/B,YAAL,GAAoB+B,IAAI,CAAC/B,YAAzB,GAAwC,CAA3D,CAX0B,CAWoC;;AAE3DiC,QAAE,CAAC2B,OAAH,CAAW;AACTC,WAAG,EAAEjG,MAAM,GAAG,gCADL;AAETkG,cAAM,EAAE,MAFC;AAGT9F,YAAI,EAAE;AACJU,kBAAQ,EAAEA,QADN;AAEJC,eAAK,EAAEA,KAFH;AAGVZ,mBAAS,EAACA,SAHA,EAHG;;AAQTiG,cAAM,EAAE;AACN,0BAAgB,mCADV;AAEN,oBAAU,kBAFJ,EARC;;AAYT7B,eAAO,EAAE,iBAAUC,GAAV,EAAe;AACtB;AACAsF,iBAAO,GAAItF,GAAG,CAACpE,IAAJ,CAASiJ,MAAT,GAAiB7E,GAAG,CAACpE,IAAJ,CAASiJ,MAA1B,GAAiCS,OAA5C;AACP,cAAGA,OAAO,IAAE,CAAZ,EAAc;AACbzF,cAAE,CAAC8C,UAAH,CAAc;AACZlB,iBAAG,EAAE,2CAA0C7D,YADnC,EAAd;;AAGA;AACA;AACM,eAAK,IAAI2H,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,OAAO,CAAC7E,MAA5B,EAAoC8E,CAAC,EAArC,EAAyC;AACvC;AACA,gBAAID,OAAO,CAACC,CAAD,CAAP,CAAW,WAAX,KAA2B,CAA/B,EAAkC;AAChC5F,kBAAI,CAACU,OAAL,CAAa;AACXjE,4BAAY,EAAEmJ,CADH,EAAb;;AAGD;AACDrJ,uBAAW,CAACqJ,CAAD,CAAX,GAAiBD,OAAO,CAACC,CAAD,CAAxB,CAPuC,CAOV;AAC9B;AACP5F,cAAI,CAACzD,WAAL,GAAmBA,WAAnB;AACMyD,cAAI,CAAC0F,cAAL,GAAsBC,OAAtB;AACN3F,cAAI,CAACxD,WAAL,GAAmBmJ,OAAO,CAAClJ,YAAD,CAA1B;AACAuD,cAAI,CAACtD,UAAL,GAAkBiJ,OAAO,CAAClJ,YAAD,CAAP,GAAsBkJ,OAAO,CAAClJ,YAAD,CAAP,CAAsB,IAAtB,CAAtB,GAAkDC,UAApE;AACA8D,iBAAO,CAACC,GAAR,CAAY,eAAZ,EAA4BkF,OAA5B,EAAoC,eAApC,EAAoDlJ,YAApD,EAAiE,eAAjE,EAAiFkJ,OAAO,CAAClJ,YAAD,CAAxF;AACK,SAnCQ,EAAX;;AAqCD,KA3YM;AA4YPoJ,oBAAgB,EAAE,4BAAY;AAC5B,UAAI7F,IAAI,GAAG,IAAX,CAD4B,CACX;;AAEjB,UAAIxC,oBAAoB,GAAGwC,IAAI,CAACxC,oBAAhC;AACA,UAAIH,iBAAiB,GAAG2C,IAAI,CAAC3C,iBAA7B;AACA,UAAIJ,YAAY,GAAG+C,IAAI,CAAC/C,YAAxB,CAL4B,CAKU;;AAEtCO,0BAAoB,GAAG,CAACA,oBAAxB;AACAH,uBAAiB,GAAG,CAACA,iBAArB;AACA2C,UAAI,CAACU,OAAL,CAAa;AACXlD,4BAAoB,EAAEA,oBADX;AAEXH,yBAAiB,EAAEA,iBAFR;AAGXC,kBAAU,EAAE,CAHD,CAGG;AAHH,OAAb;;AAMAkD,aAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCjD,oBAAlC,EAAwD,eAAxD,EAAyEP,YAAzE;;AAEA,UAAIO,oBAAoB,IAAIP,YAAY,IAAI,CAA5C,EAA+C;AAC7C+C,YAAI,CAAC8F,YAAL;AACD,OAFD,MAEO;AACL9F,YAAI,CAACU,OAAL,CAAa;AACX/B,sBAAY,EAAEqB,IAAI,CAACP,gBADR,EAAb;;AAGD;AACF,KApaM;AAqaPsG,iBAAa,EAAE,yBAAY;AACzB,UAAI/F,IAAI,GAAG,IAAX,CADyB,CACR;;AAEjB,UAAIzC,iBAAiB,GAAGyC,IAAI,CAACzC,iBAA7B;AACA,UAAIF,iBAAiB,GAAG2C,IAAI,CAAC3C,iBAA7B;AACA,UAAIN,QAAQ,GAAGiD,IAAI,CAACjD,QAApB,CALyB,CAKK;;AAE9BQ,uBAAiB,GAAG,CAACA,iBAArB;AACAF,uBAAiB,GAAG,CAACA,iBAArB;AACA2C,UAAI,CAACU,OAAL,CAAa;AACXnD,yBAAiB,EAAEA,iBADR;AAEXF,yBAAiB,EAAEA,iBAFR;AAGXC,kBAAU,EAAE,CAHD,CAGG;AAHH,OAAb;;AAMAkD,aAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmClD,iBAAnC,EAAsD,WAAtD,EAAmER,QAAnE;;AAEA,UAAIQ,iBAAiB,IAAIR,QAAQ,IAAI,CAArC,EAAwC;AACtCiD,YAAI,CAAC8F,YAAL;AACD,OAFD,MAEO;AACL9F,YAAI,CAACU,OAAL,CAAa;AACX/B,sBAAY,EAAEqB,IAAI,CAACV,iBADR,EAAb;;AAGD;AACF,KA7bM;AA8bP0G,oBAAgB,EAAE,0BAAU9E,CAAV,EAAa;AAC7B,UAAIlB,IAAI,GAAG,IAAX;AACA,UAAI6E,WAAW,GAAG7E,IAAI,CAAC1C,UAAvB;AACA,UAAI8B,qBAAqB,GAAG8B,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwB0E,WAAxB,GAAsC/E,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwB0E,WAA9D,GAA4E,CAAxG;AACA,UAAIrH,kBAAkB,GAAGsC,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwB2E,QAAxB,GAAmChF,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwB2E,QAA3D,GAAsE,CAA/F;AACA,UAAIrH,oBAAoB,GAAGqC,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwB4E,UAAxB,GAAqCjF,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwB4E,UAA7D,GAA0E,EAArG;AACA,UAAIrH,uBAAuB,GAAGoC,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwB6E,aAAxB,GAAwClF,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwB6E,aAAhE,GAAgF,EAA9G;AACA,UAAIrH,sBAAsB,GAAGmC,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwB8E,YAAxB,GAAuCnF,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwB8E,YAA/D,GAA8E,EAA3G;AACA,UAAIrH,yBAAyB,GAAGkC,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwB+E,SAAxD;AACA,UAAIrH,uBAAuB,GAAGiC,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBgF,OAAtD;AACA,UAAIrH,oBAAoB,GAAGgC,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBiF,UAAxB,GAAqCtF,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBiF,UAA7D,GAA0E,CAArG;AACA,UAAIrH,sBAAsB,GAAG+B,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBkF,YAAxB,GAAuCvF,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBkF,YAA/D,GAA8E,CAA3G;AACA,UAAIpH,oBAAoB,GAAG6B,CAAC,CAACI,aAAF,CAAgBC,OAAhB,CAAwBmF,WAAnD;;AAEA,UAAI7B,WAAW,IAAI,CAAnB,EAAsB;AACpB,YAAIlG,YAAY,GAAGqB,IAAI,CAACV,iBAAxB;AACD,OAFD,MAEO,IAAIuF,WAAW,IAAI,CAAnB,EAAsB;AAC3B,YAAIlG,YAAY,GAAGqB,IAAI,CAACP,gBAAxB;AACD;;AAED,WAAK,IAAImG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjH,YAAY,CAACmC,MAAjC,EAAyC8E,CAAC,EAA1C,EAA8C;AAC5C,YAAIA,CAAC,IAAIxG,qBAAT,EAAgC;AAC9BT,sBAAY,CAACS,qBAAD,CAAZ,CAAoC,UAApC,IAAkD,CAACT,YAAY,CAACS,qBAAD,CAAZ,CAAoC,UAApC,CAAnD;AACD,SAFD,MAEO;AACLT,sBAAY,CAACiH,CAAD,CAAZ,CAAgB,UAAhB,IAA8B,KAA9B;AACD;AACF;;AAED5F,UAAI,CAACU,OAAL,CAAa;AACX9B,0BAAkB,EAAEA,kBADT;AAEXC,4BAAoB,EAAEA,oBAFX;AAGXC,+BAAuB,EAAEA,uBAHd;AAIXC,8BAAsB,EAAEA,sBAJb;AAKXC,iCAAyB,EAAEA,yBALhB;AAMXC,+BAAuB,EAAEA,uBANd;AAOXC,4BAAoB,EAAEA,oBAPX;AAQXC,8BAAsB,EAAEA,sBARb;AASXC,6BAAqB,EAAEA,qBATZ;AAUXC,4BAAoB,EAAEA,oBAVX;AAWXV,oBAAY,EAAEA,YAXH,EAAb;;;AAcA,UAAIkG,WAAW,IAAI,CAAnB,EAAsB;AACpB7E,YAAI,CAACU,OAAL,CAAa;AACXpB,2BAAiB,EAAEX,YADR;AAEXY,oCAA0B,EAAEH,qBAFjB;AAGXI,qCAA2B,EAAEL,sBAHlB,EAAb;;AAKD,OAND,MAMO,IAAI0F,WAAW,IAAI,CAAnB,EAAsB;AAC3B7E,YAAI,CAACU,OAAL,CAAa;AACXjB,0BAAgB,EAAEd,YADP;AAEXe,mCAAyB,EAAEN,qBAFhB;AAGXO,oCAA0B,EAAER,sBAHjB,EAAb;;AAKD;;AAEDqB,aAAO,CAACC,GAAR,CAAY,+BAAZ,EAA6CoE,WAA7C,EAA0D,SAA1D,EAAqE7E,IAAI,CAACT,0BAA1E,EAAsG,aAAtG,EAAqHS,IAAI,CAACN,yBAA1H;AACD,KAvfM;AAwfPgC,uBAAmB,EAAE,6BAAUR,CAAV,EAAa;AAChC,UAAIlB,IAAI,GAAG,IAAX;AACA,UAAI6E,WAAW,GAAG7E,IAAI,CAAC6E,WAAL,GAAmB7E,IAAI,CAAC6E,WAAxB,GAAsC,CAAxD;AACA,UAAIhI,IAAI,GAAGgI,WAAW,IAAI,CAAf,GAAmB7E,IAAI,CAACnD,IAAL,GAAY,CAA/B,GAAmCmD,IAAI,CAACnD,IAAnD;AACA,UAAIG,QAAQ,GAAG6H,WAAW,IAAI,CAAf,GAAmB7E,IAAI,CAAChD,QAAL,GAAgB,CAAnC,GAAuCgD,IAAI,CAAChD,QAA3D;AACA,UAAIF,QAAQ,GAAGkD,IAAI,CAAClD,QAApB;AACA,UAAII,QAAQ,GAAG8C,IAAI,CAAC9C,QAApB;;AAEA,UAAIL,IAAI,GAAGmD,IAAI,CAACjD,QAAZ,IAAwB8H,WAAW,IAAI,CAA3C,EAA8C;AAC5C3E,UAAE,CAAC+D,SAAH,CAAa;AACXC,eAAK,EAAE,QADI;AAEXC,cAAI,EAAE,MAFK;AAGXC,kBAAQ,EAAE,IAHC,EAAb;;AAKA;AACD,OAPD,MAOO,IAAIpH,QAAQ,GAAGgD,IAAI,CAAC/C,YAAhB,IAAgC4H,WAAW,IAAI,CAAnD,EAAsD;AAC3D3E,UAAE,CAAC+D,SAAH,CAAa;AACXC,eAAK,EAAE,QADI;AAEXC,cAAI,EAAE,MAFK;AAGXC,kBAAQ,EAAE,IAHC,EAAb;;AAKA;AACD;;AAEDpE,UAAI,CAACU,OAAL,CAAa;AACX7D,YAAI,EAAEA,IADK;AAEXG,gBAAQ,EAAEA,QAFC,EAAb;;AAIAgD,UAAI,CAAC8F,YAAL;AACD,KArhBM;AAshBPA,gBAAY,EAAE,wBAAY;AACxB,UAAI9F,IAAI,GAAG,IAAX;AACA,UAAIrD,QAAQ,GAAGuD,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,IAAgC1B,EAAE,CAAC0B,cAAH,CAAkB,UAAlB,CAAhC,GAAgE,EAA/E;AACA,UAAIhF,KAAK,GAAGsD,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,IAA6B1B,EAAE,CAAC0B,cAAH,CAAkB,OAAlB,CAA7B,GAA0D,GAAtE;AACA,UAAI+E,MAAM,GAAGzG,EAAE,CAAC0B,cAAH,CAAkB,QAAlB,IAA8B1B,EAAE,CAAC0B,cAAH,CAAkB,QAAlB,CAA9B,GAA4D,EAAzE;AACA,UAAI/E,IAAI,GAAGmD,IAAI,CAACnD,IAAhB;AACA,UAAIG,QAAQ,GAAGgD,IAAI,CAAChD,QAApB;AACA,UAAIF,QAAQ,GAAGkD,IAAI,CAAClD,QAApB;AACA,UAAII,QAAQ,GAAG8C,IAAI,CAAC9C,QAApB;AACA,UAAIH,QAAQ,GAAGiD,IAAI,CAACjD,QAApB;AACA,UAAIE,YAAY,GAAG+C,IAAI,CAAC/C,YAAxB;AACA,UAAIjB,SAAS,GAAGgE,IAAI,CAAChE,SAArB;AACA,UAAI4K,cAAc,GAAG,WAArB;AACA,UAAIC,YAAY,GAAG7G,IAAI,CAAC1C,UAAxB;AACAkD,aAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0CoG,YAA1C;AACA;;;;;;AAMA7G,UAAI,CAACU,OAAL,CAAa;AACX/B,oBAAY,EAAE,EADH,EAAb;;AAGAuB,QAAE,CAAC2B,OAAH,CAAW;AACTC,WAAG,EAAEjG,MAAM,GAAG,0BADL;AAETkG,cAAM,EAAE,MAFC;AAGT9F,YAAI,EAAE;AACJU,kBAAQ,EAAEA,QADN;AAEJqF,sBAAY,EAAEpF,KAFV;AAGJC,cAAI,EAAEA,IAHF;AAIJC,kBAAQ,EAAEA,QAJN;AAKJd,mBAAS,EAAEA,SALP;AAMJ4K,wBAAc,EAAEA,cANZ;AAOJE,mBAAS,EAAED,YAPP,EAHG;;AAYT5E,cAAM,EAAE;AACN,0BAAgB,mCADV;AAEN,oBAAU,kBAFJ,EAZC;;AAgBT7B,eAAO,EAAE,iBAAUC,GAAV,EAAe;AACtBG,iBAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBJ,GAAG,CAACpE,IAAJ,CAASiJ,MAA/B;AACA,cAAIvG,YAAY,GAAG0B,GAAG,CAACpE,IAAJ,CAASiJ,MAA5B;AACA,cAAIhI,QAAQ,GAAGmD,GAAG,CAACpE,IAAJ,CAASiB,QAAxB;;AAEA,cAAI,CAACmD,GAAG,CAACpE,IAAJ,CAASiJ,MAAd,EAAsB;AACpBhF,cAAE,CAAC+D,SAAH,CAAa;AACXC,mBAAK,EAAE7D,GAAG,CAACpE,IAAJ,CAASmJ,IAAT,GAAgB/E,GAAG,CAACpE,IAAJ,CAASmJ,IAAzB,GAAgC,QAD5B;AAEXjB,kBAAI,EAAE,MAFK;AAGXC,sBAAQ,EAAE,IAHC,EAAb;;;AAMA,gBAAIvH,IAAI,IAAI,CAAR,IAAagK,YAAY,IAAI,CAAjC,EAAoC;AAClC7G,kBAAI,CAACU,OAAL,CAAa;AACXpB,iCAAiB,EAAE,EADR;AAEXvC,wBAAQ,EAAE,CAFC,EAAb;;AAID,aALD,MAKO,IAAIC,QAAQ,IAAI,CAAZ,IAAiB6J,YAAY,IAAI,CAArC,EAAwC;AAC7C7G,kBAAI,CAACU,OAAL,CAAa;AACXjB,gCAAgB,EAAE,EADP;AAEXxC,4BAAY,EAAE,CAFH,EAAb;;AAID;AACF,WAlBD,MAkBO;AACL,iBAAK,IAAI2I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGjH,YAAY,CAACmC,MAAjC,EAAyC8E,CAAC,EAA1C,EAA8C;AAC5CjH,0BAAY,CAACiH,CAAD,CAAZ,CAAgB,YAAhB,IAAgCjK,IAAI,CAACoL,UAAL,CAAgBpI,YAAY,CAACiH,CAAD,CAAZ,CAAgB,YAAhB,IAAgC,IAAhD,EAAsD,CAAtD,CAAhC;AACAjH,0BAAY,CAACiH,CAAD,CAAZ,CAAgB,UAAhB,IAA8BjK,IAAI,CAACoL,UAAL,CAAgBpI,YAAY,CAACiH,CAAD,CAAZ,CAAgB,UAAhB,IAA8B,IAA9C,EAAoD,CAApD,CAA9B;AACAjH,0BAAY,CAACiH,CAAD,CAAZ,CAAgB,UAAhB,IAA8B,KAA9B;AACD;;AAED,gBAAI/I,IAAI,GAAG,CAAP,IAAYgK,YAAY,IAAI,CAA5B,IAAiClI,YAArC,EAAmD;AACjD;AACAA,0BAAY,GAAGqB,IAAI,CAACV,iBAAL,CAAuB0H,MAAvB,CAA8BrI,YAA9B,CAAf;AACD,aAHD,MAGO,IAAI3B,QAAQ,GAAG,CAAX,IAAgB6J,YAAY,IAAI,CAAhC,IAAqClI,YAAzC,EAAuD;AAC5DA,0BAAY,GAAGqB,IAAI,CAACP,gBAAL,CAAsBuH,MAAtB,CAA6BrI,YAA7B,CAAf;AACD;;AAED,gBAAIkI,YAAY,IAAI,CAApB,EAAuB;AACrB9J,sBAAQ,GAAGG,QAAQ,GAAGJ,QAAX,GAAsB,GAAjC;AACAkD,kBAAI,CAACU,OAAL,CAAa;AACX/B,4BAAY,EAAEA,YADH;AAEXW,iCAAiB,EAAEX,YAFR;AAGX5B,wBAAQ,EAAEA,QAAQ,CAACqG,OAAT,CAAiB,CAAjB,CAHC;AAIXnG,4BAAY,EAAE,CAJH,EAAb;;AAMD,aARD,MAQO,IAAI4J,YAAY,IAAI,CAApB,EAAuB;AAC5B5J,0BAAY,GAAGC,QAAQ,GAAGJ,QAAX,GAAsB,GAArC;AACAkD,kBAAI,CAACU,OAAL,CAAa;AACX/B,4BAAY,EAAEA,YADH;AAEXc,gCAAgB,EAAEd,YAFP;AAGX1B,4BAAY,EAAEA,YAAY,CAACmG,OAAb,CAAqB,CAArB,CAHH;AAIXrG,wBAAQ,EAAE,CAJC,EAAb;;AAMD;AACF;;AAEDyD,iBAAO,CAACC,GAAR,CAAY,4BAAZ,EAA0C9B,YAA1C,EAAwD,MAAxD,EAAgEqB,IAAI,CAACP,gBAArE,EAAuF,OAAvF,EAAgGO,IAAI,CAACV,iBAArG;AACD,SAzEQ,EAAX;;AA2ED,KAznBM;AA0nBP;AACA2H,cAAU,EAAE,oBAAU/F,CAAV,EAAa;AACvB,UAAIlB,IAAI,GAAG,IAAX;AACA,UAAI6E,WAAW,GAAG7E,IAAI,CAAC1C,UAAvB;AACA,UAAIlB,MAAM,GAAG4D,IAAI,CAAC5D,MAAlB;AACA,UAAIuB,SAAS,GAAGqC,IAAI,CAACrC,SAArB;AACA,UAAID,SAAS,GAAGsC,IAAI,CAACtC,SAArB;AACA,UAAIH,iBAAiB,GAAGyC,IAAI,CAACzC,iBAA7B;AACA,UAAIC,oBAAoB,GAAGwC,IAAI,CAACxC,oBAAhC;AACA,UAAI0J,gBAAgB,GAAG3J,iBAAiB,GAAGyC,IAAI,CAACpB,kBAAR,GAA6B,CAArE;AACA,UAAIuI,kBAAkB,GAAG5J,iBAAiB,GAAGyC,IAAI,CAACd,oBAAR,GAA+B,CAAzE;AACA,UAAIkI,oBAAoB,GAAG7J,iBAAiB,GAAGqG,UAAU,CAAC5D,IAAI,CAACb,sBAAN,CAAb,GAA6C,CAAzF;AACA,UAAIkI,mBAAmB,GAAG7J,oBAAoB,GAAGwC,IAAI,CAACqE,sBAAR,GAAiC,CAA/E;AACA,UAAIiD,qBAAqB,GAAG9J,oBAAoB,GAAGwC,IAAI,CAACsE,wBAAR,GAAmC,CAAnF;AACA,UAAIiD,uBAAuB,GAAG/J,oBAAoB,GAAGoG,UAAU,CAAC5D,IAAI,CAACL,0BAAN,CAAb,GAAiD,CAAnG;AACA,UAAItD,KAAK,GAAG2D,IAAI,CAAC3D,KAAjB;AACA,UAAIoB,WAAW,GAAGuC,IAAI,CAACvC,WAAL,GAAmBuC,IAAI,CAACvC,WAAxB,GAAsC,CAAxD;AACA+C,aAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgD2G,oBAAhD,EAAsE,cAAtE,EAAsF3J,WAAtF;;AAEA,WAAK,IAAImI,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGvJ,KAAK,CAACyE,MAA1B,EAAkC8E,CAAC,EAAnC,EAAuC;AACrC,YAAIvJ,KAAK,CAACuJ,CAAD,CAAL,CAAS,UAAT,IAAuB,GAAvB,IAA8BvJ,KAAK,CAACuJ,CAAD,CAAL,CAAS,UAAT,IAAuB,CAAzD,EAA4D;AAC1D;AACA,cAAIuB,kBAAkB,IAAI,CAAtB,IAA2BD,gBAA/B,EAAiD;AAC/C;AACAzJ,uBAAW,GAAGA,WAAW,GAAG,CAAC,MAAMpB,KAAK,CAACuJ,CAAD,CAAL,CAAS,UAAT,CAAP,IAA+BvJ,KAAK,CAACuJ,CAAD,CAAL,CAAS,YAAT,CAA/B,GAAwDvJ,KAAK,CAACuJ,CAAD,CAAL,CAAS,KAAT,CAAxD,GAA0E,GAAtG;AACAnI,uBAAW,GAAGA,WAAW,CAAC2F,OAAZ,CAAoB,CAApB,CAAd;AACD;AACF;AACF;;AAED,UAAIyB,WAAW,IAAI,CAAnB,EAAsB;AACpB;AACApH,mBAAW,GAAGA,WAAW,GAAG8J,uBAAd,GAAwCA,uBAAxC,GAAkE,CAAhF;AACA9J,mBAAW,GAAGA,WAAW,CAAC2F,OAAZ,CAAoB,CAApB,CAAd;AACD;;AAED1F,eAAS,GAAG,CAACtB,MAAM,GAAGuB,SAAT,GAAqBF,WAAtB,EAAmC2F,OAAnC,CAA2C,CAA3C,CAAZ;AACApD,UAAI,CAACU,OAAL,CAAa;AACXjD,mBAAW,EAAEA,WADF;AAEXC,iBAAS,EAAEA,SAFA,EAAb;;;AAKA,UAAID,WAAW,GAAG8J,uBAAd,IAAyC,CAAzC,IAA8ChK,iBAA9C,IAAmEsH,WAAW,IAAI,CAAtF,EAAyF;AACvF7E,YAAI,CAACwH,qBAAL;AACAtH,UAAE,CAAC+D,SAAH,CAAa;AACXC,eAAK,EAAE,YADI;AAEXC,cAAI,EAAE,MAFK;AAGXC,kBAAQ,EAAE,IAHC,EAAb;;AAKD;AACF,KA5qBM;AA6qBPqD,oBAAgB,EAAE,0BAAUvG,CAAV,EAAa;AAC7B,WAAKR,OAAL,CAAa;AACXjE,oBAAY,EAAEyE,CAAC,CAACE,MAAF,CAAS+B,KADZ,EAAb;;AAGD,KAjrBM;AAkrBPuE,iBAAa,EAAE,yBAAY;AACzB,UAAInL,WAAW,GAAG,KAAKA,WAAvB;;AAEA,UAAIA,WAAW,CAACuE,MAAZ,IAAsB,CAA1B,EAA6B;AAC3BZ,UAAE,CAAC8C,UAAH,CAAc;AACZlB,aAAG,EAAE,oCAAoC,KAAKnF,QADlC,EAAd;;AAGD;AACF,KA1rBM;AA2rBP;AACAgL,2BAAuB,EAAE,mCAAY;AACnC,UAAI3H,IAAI,GAAG,IAAX;AACA,UAAI6E,WAAW,GAAG7E,IAAI,CAAC1C,UAAvB;AACA,UAAIC,iBAAiB,GAAGyC,IAAI,CAACzC,iBAA7B;AACA,UAAI6B,qBAAqB,GAAGY,IAAI,CAACZ,qBAAL,GAA6BY,IAAI,CAACZ,qBAAlC,GAA0D,CAAtF;AACA,UAAIwI,WAAW,GAAG5H,IAAI,CAACrB,YAAvB;AACA,UAAIkJ,oBAAoB,GAAGD,WAAW,CAACxI,qBAAD,CAAX,GAAqCwI,WAAW,CAACxI,qBAAD,CAAX,CAAmC,UAAnC,CAArC,GAAsF,CAAjH;AACAY,UAAI,CAACU,OAAL,CAAa;AACXrD,yBAAiB,EAAE,CAAC,KAAKA,iBADd,EAAb;;;AAIA,UAAIwH,WAAW,IAAI,CAAnB,EAAsB;AACpB7E,YAAI,CAACU,OAAL,CAAa;AACXnD,2BAAiB,EAAEsK,oBAAoB,GAAG,IAAH,GAAU,KADtC,EAAb;;AAGD,OAJD,MAIO,IAAIhD,WAAW,IAAI,CAAnB,EAAsB;AAC3B7E,YAAI,CAACU,OAAL,CAAa;AACXlD,8BAAoB,EAAEqK,oBAAoB,GAAG,IAAH,GAAU,KADzC,EAAb;;AAGD;;AAED7H,UAAI,CAACiH,UAAL,GArBmC,CAqBhB;AACpB,KAltBM;AAmtBP;AACAO,yBAAqB,EAAE,iCAAY;AACjC,UAAIxH,IAAI,GAAG,IAAX;AACA,UAAI6E,WAAW,GAAG7E,IAAI,CAAC1C,UAAvB;AACA,UAAII,SAAS,GAAGsC,IAAI,CAACtC,SAArB;AACA,UAAItB,MAAM,GAAG4D,IAAI,CAAC5D,MAAlB;AACA,UAAIqB,WAAW,GAAGuC,IAAI,CAACvC,WAAvB;AACAuC,UAAI,CAACU,OAAL,CAAa;AACXrD,yBAAiB,EAAE,CAAC2C,IAAI,CAAC3C,iBADd;AAEXK,iBAAS,EAAEtB,MAFA,EAAb;;;AAKA,UAAIyI,WAAW,IAAI,CAAnB,EAAsB;AACpB7E,YAAI,CAACU,OAAL,CAAa;AACXnD,2BAAiB,EAAE,KADR,EAAb;;AAGD,OAJD,MAIO,IAAIsH,WAAW,IAAI,CAAnB,EAAsB;AAC3B7E,YAAI,CAACU,OAAL,CAAa;AACXlD,8BAAoB,EAAE,KADX,EAAb;;AAGD;;AAEDwC,UAAI,CAACiH,UAAL,GArBiC,CAqBd;AACpB,KA1uBM;AA2uBPvG,WAAO,EAAE,iBAAUoH,GAAV,EAAe;AACtB,UAAI9H,IAAI,GAAG,IAAX;AACA,UAAI+H,IAAI,GAAG,EAAX;AACA,UAAIC,GAAJ,EAAS/L,IAAT;AACAgM,YAAM,CAACF,IAAP,CAAYD,GAAZ,EAAiBI,OAAjB,CAAyB,UAAUC,GAAV,EAAe;AACtCJ,YAAI,GAAGI,GAAG,CAACnE,KAAJ,CAAU,GAAV,CAAP;AACAgE,WAAG,GAAGF,GAAG,CAACK,GAAD,CAAT;AACAlM,YAAI,GAAG+D,IAAI,CAACoI,KAAZ;AACAL,YAAI,CAACG,OAAL,CAAa,UAAUG,IAAV,EAAgBC,KAAhB,EAAuB;AAClC,cAAIA,KAAK,GAAG,CAAR,IAAaP,IAAI,CAACjH,MAAtB,EAA8B;AAC5Bd,gBAAI,CAACuI,IAAL,CAAUtM,IAAV,EAAgBoM,IAAhB,EAAsBL,GAAtB;AACD,WAFD,MAEO;AACL,gBAAI,CAAC/L,IAAI,CAACoM,IAAD,CAAT,EAAiB;AACfrI,kBAAI,CAACuI,IAAL,CAAUtM,IAAV,EAAgBoM,IAAhB,EAAsB,EAAtB;AACD;AACF;;AAEDpM,cAAI,GAAGA,IAAI,CAACoM,IAAD,CAAX;AACD,SAVD;AAWD,OAfD;AAgBD,KA/vBM,EAtGI,E;;;;;;;;;;;;;AC3If;AAAA;AAAA;AAAA;AAAokC,CAAgB,s5BAAG,EAAC,C;;;;;;;;;;;ACAxlC,uC","file":"pages/order/checkout/checkout.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/order/checkout/checkout.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./checkout.vue?vue&type=template&id=c91fff8e&\"\nimport script from \"./checkout.vue?vue&type=script&lang=js&\"\nexport * from \"./checkout.vue?vue&type=script&lang=js&\"\nimport style0 from \"./checkout.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('c91fff8e', component.options)\n    } else {\n      api.reload('c91fff8e', component.options)\n    }\n    module.hot.accept(\"./checkout.vue?vue&type=template&id=c91fff8e&\", function () {\n      api.rerender('c91fff8e', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/order/checkout/checkout.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkout.vue?vue&type=template&id=c91fff8e&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkout.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkout.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nvar util = require(\"../../../utils/util.js\");\r\nvar weburl = getApp().globalData.weburl;\r\nvar shop_type = getApp().globalData.shop_type;\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      title_name: '送出礼品',\r\n      title_logo: '/static/images/footer-icon-05.png',\r\n      amount: 0,\r\n      carts: [],\r\n      cartIds: null,\r\n      addressList: [],\r\n\t  addressData:[],\r\n      addressIndex: 0,\r\n\t  address_id: 0,\r\n      username: null,\r\n      token: null,\r\n      page: 1,\r\n      pagesize: 5,\r\n      page_num: 0,\r\n      page_red: 1,\r\n      page_red_num: 0,\r\n      all_rows: 0,\r\n      all_red_rows: 0,\r\n      shop_type: shop_type,\r\n      showmorehidden: false,\r\n      modalHiddenCoupon: true,\r\n      couponType: 1,\r\n      selectedAllStatus: false,\r\n      selectedRedAllStatus: false,\r\n      discountpay: 0,\r\n      //折扣差额\r\n      payamount: 0,\r\n      //实际支付金额\r\n      order_num: 1 //订单份数\r\n      ,\r\n      dkheight: \"\",\r\n      delivery_price: \"\",\r\n      order_type: \"\",\r\n      order_note: \"\",\r\n      order_image: \"\",\r\n      is_buymyself: \"\",\r\n      order_shape: \"\",\r\n      order_voice: \"\",\r\n      order_voicetime: \"\",\r\n      order_color: \"\",\r\n      card_register_info: \"\",\r\n      card_name_info: \"\",\r\n      card_cele_info: \"\",\r\n      card_love_info: \"\",\r\n      card_template: \"\",\r\n      coupons_list: \"\",\r\n      selected_coupon_id: \"\",\r\n      selected_coupon_name: \"\",\r\n      selected_coupon_content: \"\",\r\n      selected_coupon_footer: \"\",\r\n      selected_coupon_starttime: \"\",\r\n      selected_coupon_endtime: \"\",\r\n      selected_coupon_type: \"\",\r\n      selected_coupon_amount: \"\",\r\n      selected_coupon_index: \"\",\r\n      selected_couponimage: \"\",\r\n      coupons_quan_list: \"\",\r\n      selected_coupon_quan_index: \"\",\r\n      selected_coupon_quan_amount: \"\",\r\n      coupons_red_list: \"\",\r\n      selected_coupon_red_index: \"\",\r\n      selected_coupon_red_amount: \"\"\r\n    };\r\n  },\r\n\r\n  components: {},\r\n  props: {},\r\n  onLoad: function (options) {\r\n    var that = this;\r\n\t/*\r\n\twx.showToast({\r\n\t  title: '加载中 carts:'+options.carts+' amount:'+options.amount,\r\n\t  icon: 'loading',\r\n\t  duration: 1000\r\n\t});\r\n\t*/\r\n    that.readCarts(options);\r\n    wx.getSystemInfo({\r\n      success: function (res) {\r\n        let winHeight = res.windowHeight;\r\n        console.log(winHeight);\r\n        that.setData({\r\n          dkheight: winHeight - winHeight * 0.05 - 20\r\n        });\r\n      }\r\n    });\r\n  },\r\n  onShow: function () {\r\n    var that = this;\r\n    var pages = getCurrentPages();\r\n\r\n    if (pages.length > 1) {\r\n      that.setData({\r\n        title_logo: '/static/images/back.png'\r\n      });\r\n    } \r\n\tthat.loadAddress()\r\n\r\n  },\r\n  methods: {\r\n    formSubmit: function (e) {\r\n      var that = this;\r\n      var formId = e.detail.formId;\r\n      var form_name = e.currentTarget.dataset.name;\r\n      console.log('formSubmit() formID：', formId, ' form name:', form_name);\r\n\r\n      if (form_name == 'confirmOrder') {\r\n        that.confirmOrder();\r\n      } else if (form_name == 'getMoreOrders') {\r\n        that.getMoreOrdersTapTag();\r\n      }\r\n\r\n      if (formId) that.submintFromId(formId);\r\n    },\r\n    //提交formId，让服务器保存到数据库里\r\n    submintFromId: function (formId) {\r\n      var that = this;\r\n      var formId = formId;\r\n      var shop_type = that.shop_type;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      wx.request({\r\n        url: weburl + '/api/client/save_member_formid',\r\n        method: 'POST',\r\n        data: {\r\n          username: username,\r\n          access_token: token,\r\n          formId: formId,\r\n          shop_type: shop_type\r\n        },\r\n        header: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'Accept': 'application/json'\r\n        },\r\n        success: function (res) {\r\n          console.log('submintFromId() update success: ', res.data);\r\n        }\r\n      });\r\n    },\r\n    showGoods: function (e) {\r\n      var skuId = e.currentTarget.dataset.skuId;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var goods_id = e.currentTarget.dataset.goodsId;\r\n      var goods_name = e.currentTarget.dataset.goodsName;\r\n      var goods_price = e.currentTarget.dataset.goodsPrice;\r\n      var goods_sale = e.currentTarget.dataset.goodsSale;\r\n      var goods_info = e.currentTarget.dataset.goodsInfo;\r\n      var goods_image = e.currentTarget.dataset.image;\r\n      wx.navigateTo({\r\n        url: '../../details/details?sku_id=' + skuId + '&goods_name=' + goods_name + '&id=' + goods_id + '&goods_price=' + goods_price + '&sale=' + goods_sale + '&goods_info=' + '&image=' + goods_image + '&token=' + token + '&username=' + username\r\n      });\r\n    },\r\n    order_numFun: function (e) {\r\n      var that = this;\r\n      var order_num = parseInt(e.detail.value ? e.detail.value : 0);\r\n      var amount = that.amount;\r\n      var discountpay = that.discountpay ? that.discountpay : 0;\r\n      var payamount = (amount * order_num - discountpay).toFixed(2);\r\n      console.log('order_num amount:', amount, ' discountpay:', discountpay, ' order_num:', order_num, ' payamount:', payamount);\r\n      that.setData({\r\n        order_num: order_num,\r\n        payamount: payamount\r\n      });\r\n    },\r\n    goBack: function () {\r\n      var pages=getCurrentPages(), prevPage=null;\r\n         if(pages.length>1){\r\n             prevPage=pages[pages.length-2];\r\n         }\r\n         if(prevPage){\r\n             \r\n\r\n\r\n\r\n      \t\t\tprevPage.setData({\r\n      \t\t\t\tcustomerSource : that.source[that.curIndex]\r\n      \t\t\t})\r\n\r\n         }\r\n         uni.navigateBack();\r\n    },\r\n    readCarts: function (options) {\r\n      var that = this;\r\n     // console.log('order checkout from hall  readCarts options:', options);\r\n      var amount = parseFloat(options.amount); //var delivery_price = parseFloat(options.delivery_price)\r\n      var payamount = that.payamount;\r\n      var discountpay = that.discountpay;\r\n\t \r\n      var carts = JSON.parse(options.carts);\r\n      var cartIds = options.cartIds;\r\n\t \r\n      var delivery_price = parseFloat(carts[0].delivery_price);\r\n      var cartIdArray = cartIds.split(',');\r\n      var order_type = options.order_type ? options.order_type : '';\r\n      var order_note = options.order_note ? options.order_note : '';\r\n      var order_image = options.order_image ? options.order_image : '';\r\n      var order_shape = options.order_shape ? options.order_shape : 0; //5贺卡请柬\r\n\r\n      var order_voice = options.order_voice ? options.order_voice : '';\r\n      var order_voicetime = options.order_voicetime ? options.order_voicetime : 0; //5贺卡请柬\r\n\r\n      var order_color = options.order_color ? options.order_color : '#333'; //5贺卡请柬文字颜色\r\n\r\n      var is_buymyself = options.is_buymyself ? options.is_buymyself : 0; //自购\r\n\r\n      var card_register_info = options.card_register_info ? JSON.parse(options.card_register_info) : ''; //\r\n\r\n      var card_name_info = options.card_name_info ? JSON.parse(options.card_name_info) : ''; //\r\n\r\n      var card_cele_info = options.card_cele_info ? JSON.parse(options.card_cele_info) : ''; //\r\n\r\n      var card_love_info = options.card_love_info ? JSON.parse(options.card_love_info) : ''; //\r\n\r\n      var card_template = options.card_template ? JSON.parse(options.card_template) : ''; //\r\n      payamount = (amount - discountpay).toFixed(2);\r\n\t /*\r\n\t wx.showToast({\r\n\t   title: '加载中 carts:'+carts[0]['sell_price']+' payamount:'+payamount,\r\n\t   icon: 'loading',\r\n\t   duration: 1000\r\n\t });\r\n\t */\r\n      this.setData({\r\n        amount: amount,\r\n        payamount: payamount,\r\n        delivery_price: delivery_price,\r\n        carts: carts,\r\n        cartIds: cartIdArray,\r\n        order_type: order_type,\r\n        order_note: order_note,\r\n        order_image: order_image,\r\n        username: options.username,\r\n        token: options.token,\r\n        is_buymyself: is_buymyself,\r\n        order_shape: order_shape,\r\n        order_voice: order_voice,\r\n        order_voicetime: order_voicetime,\r\n        order_color: order_color,\r\n        card_register_info: card_register_info,\r\n        card_name_info: card_name_info,\r\n        card_cele_info: card_cele_info,\r\n        card_love_info: card_love_info,\r\n        card_template: card_template\r\n      });\r\n\t \r\n      console.log('checkouts readCarts() order_image:', order_image, 'order_shape:', order_shape, 'card_template:', card_template, ' card_name_info:', card_name_info, ' card_register_info:', card_register_info, ' card_love_info:', card_love_info);\r\n\t},\r\n\t\r\n    confirmOrder: function () {\r\n      var that = this;\r\n      var order_num = that.order_num;\r\n\r\n      if (order_num == 0) {\r\n        wx.showToast({\r\n          title: '请输入份数',\r\n          icon: 'loading',\r\n          duration: 2000\r\n        });\r\n        return;\r\n      }\r\n\r\n      var is_buymyself = that.is_buymyself; //自购\r\n\t  var address_id = that.address_id? that.address_id:0;\r\n      var carts = that.carts;\r\n      var cartIds = that.cartIds;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var selectedAllStatus = that.selectedAllStatus;\r\n      var selectedRedAllStatus = that.selectedRedAllStatus;\r\n      var selected_coupon_quan_index = that.selected_coupon_quan_index ? that.selected_coupon_quan_index : 0;\r\n      var selected_coupon_red_index = that.selected_coupon_red_index ? that.selected_coupon_red_index : 0;\r\n      console.log('confirmOrder selected_coupon_quan_index:', that.selected_coupon_quan_index, 'selected_coupon_red_index:', that.selected_coupon_red_index, ' coupons_red_list:', that.coupons_red_list);\r\n      var selected_coupon_amount = selectedAllStatus ? that.coupons_quan_list[selected_coupon_quan_index]['amount'] : 0;\r\n      var selected_coupon_id = selectedAllStatus ? that.coupons_quan_list[selected_coupon_quan_index]['id'] : 0;\r\n      var selected_coupon_type = selectedAllStatus ? that.coupons_quan_list[selected_coupon_quan_index]['type'] : 1;\r\n      var selected_coupon_red_amount = selectedRedAllStatus ? that.coupons_red_list[selected_coupon_red_index]['amount'] : 0;\r\n      var selected_coupon_red_id = selectedRedAllStatus ? that.coupons_red_list[selected_coupon_red_index]['id'] : 0;\r\n      var selected_coupon_red_type = selectedRedAllStatus ? that.coupons_red_list[selected_coupon_red_index]['type'] : 1;\r\n      var status = 0;\r\n      var shop_type = that.shop_type;\r\n      var amount = that.amount;\r\n      var order_type = is_buymyself==1?'app':'gift';\r\n      var order_image = that.order_image;\r\n      var order_note = that.order_note;\r\n      var order_shape = that.order_shape;\r\n      var order_voice = that.order_voice;\r\n      var order_voicetime = that.order_voicetime;\r\n      var order_color = that.order_color;\r\n      var order_num = that.order_num;\r\n      var card_register_info = JSON.stringify(that.card_register_info);\r\n      var card_name_info = JSON.stringify(that.card_name_info);\r\n      var card_cele_info = JSON.stringify(that.card_cele_info);\r\n      var card_love_info = JSON.stringify(that.card_love_info);\r\n      var card_template = JSON.stringify(that.card_template);\r\n      if (!order_note) order_note = '送你一份礼物，愿你喜欢!'; //默认祝福\r\n\r\n      console.log('order_image:', order_image, 'order_shape:', order_shape, 'card_template:', card_template, ' card_cele_info:', card_cele_info);\r\n      wx.request({\r\n        url: weburl + '/api/client/add_order',\r\n        method: 'POST',\r\n        data: {\r\n          username: username,\r\n          access_token: token,\r\n          shop_type: shop_type,\r\n          sku_id: cartIds,\r\n          buy_type: 'cart',\r\n          order_type: order_type,\r\n          note: order_note,\r\n          order_image: order_image,\r\n          order_shape: order_shape,\r\n          order_voice: order_voice,\r\n          order_voicetime: order_voicetime,\r\n          order_color: order_color,\r\n          card_register_info: card_register_info,\r\n          card_name_info: card_name_info,\r\n          card_cele_info: card_cele_info,\r\n          card_love_info: card_love_info,\r\n          card_template: card_template,\r\n          coupon_id: selectedAllStatus ? selected_coupon_id : 0,\r\n          coupon_type: selectedAllStatus ? selected_coupon_type : 0,\r\n          coupon_amount: selectedAllStatus ? selected_coupon_amount : 0,\r\n          coupon_red_id: selectedRedAllStatus ? selected_coupon_red_id : 0,\r\n          coupon_red_type: selectedRedAllStatus ? selected_coupon_red_type : 0,\r\n          coupon_red_amount: selectedRedAllStatus ? selected_coupon_red_amount : 0,\r\n          order_num: order_num ? order_num : 1,\r\n          is_buymyself: is_buymyself ? is_buymyself : 0 ,//1自购礼品\r\n\t\t  address_id:address_id,\r\n\r\n        },\r\n        header: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'Accept': 'application/json'\r\n        },\r\n        success: function (res) {\r\n          console.log('提交订单:', res.data.result);\r\n          var order_data = res.data.result;\r\n\r\n          if (!res.data.info) {\r\n            /*wx.showToast({\r\n              title: '订单提交完成',\r\n              icon: 'success',\r\n              duration: 1500\r\n            })\r\n            */\r\n            if (order_data['order_pay'] == 0) {\r\n              that.delete_cart();\r\n              that.zero_pay(order_data['order_no']); //0支付直接送出\r\n            } else {\r\n              wx.navigateTo({\r\n                url: '../../order/payment/payment?orderNo=' + order_data['order_no'] + '&totalFee=' + order_data['order_pay'] + '&is_buymyself=' + is_buymyself\r\n              });\r\n            }\r\n          } else {\r\n            wx.showToast({\r\n              title: res.data.info,\r\n              icon: 'none',\r\n              duration: 2000\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n    delete_cart: function () {\r\n      var that = this;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var sku_id = that.cartIds;\r\n      var shop_type = that.shop_type;\r\n      console.log('payment delete_cart sku_id:', sku_id); // 购物车单个删除\r\n\r\n      wx.request({\r\n        url: weburl + '/api/client/delete_cart',\r\n        method: 'POST',\r\n        data: {\r\n          username: username,\r\n          access_token: token,\r\n          sku_id: sku_id,\r\n          shop_type: shop_type\r\n        },\r\n        header: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'Accept': 'application/json'\r\n        },\r\n        success: function (res) {\r\n          console.log('payment delete_cart:', res.data.result);\r\n        }\r\n      });\r\n    },\r\n    zero_pay: function (order_no = '') {\r\n      var that = this;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var is_buymyself = that.is_buymyself; //再次确认订单状态\r\n\r\n      wx.request({\r\n        url: weburl + '/api/client/query_order',\r\n        method: 'POST',\r\n        data: {\r\n          username: username,\r\n          access_token: token,\r\n          order_no: order_no,\r\n          shop_type: shop_type\r\n        },\r\n        header: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'Accept': 'application/json'\r\n        },\r\n        success: function (res) {\r\n          console.log('order checkout zero_pay() 0支付订单查询:', res.data);\r\n          var orderObjects = res.data.result;\r\n\r\n          if (!orderObjects) {\r\n            console.log('order checkout zero_pay() 没有该订单 orderObjects:', orderObjects);\r\n            wx.showToast({\r\n              title: '没有该订单',\r\n              icon: 'none',\r\n              duration: 1500\r\n            });\r\n            setTimeout(function () {\r\n              wx.navigateBack();\r\n            }, 1500);\r\n            return;\r\n          } else {\r\n            if (orderObjects[0]['gift_status'] > 0) {\r\n              console.log('order checkout zero_pay() 该订单已送出 orderObjects:', orderObjects);\r\n              wx.showToast({\r\n                title: '该订单已送出',\r\n                icon: 'none',\r\n                duration: 1500\r\n              });\r\n              setTimeout(function () {\r\n                wx.navigateBack();\r\n              }, 1500);\r\n              return;\r\n            } else {\r\n              wx.navigateTo({\r\n                url: '../send/send?order_no=' + order_no + '&orders=' + JSON.stringify(orderObjects) + '&is_buymyself=' + is_buymyself\r\n              });\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    loadAddress: function () {\r\n      var that = this;\r\n      var addressList = [];\r\n\t  var shop_type = that.shop_type ;\r\n      var addressObjects = null;\r\n      var address = [];\r\n\t  var address_id = that.address_id?that.address_id:0\r\n\t  var addressIndex = that.addressIndex? that.addressIndex:0;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n\t  var addressData = that.addressData\r\n\t  var is_buymyself = that.is_buymyself ? that.is_buymyself : 0; //自购\r\n\t  \r\n      wx.request({\r\n        url: weburl + '/api/client/get_member_address',\r\n        method: 'POST',\r\n        data: {\r\n          username: username,\r\n          token: token,\r\n\t\t  shop_type:shop_type,\r\n        },\r\n        header: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'Accept': 'application/json'\r\n        },\r\n        success: function (res) {\r\n          //console.log('address list:',res.data.result);\r\n          address =  res.data.result? res.data.result:address;\r\n\t\t\tif(address==0){\r\n\t\t\t\twx.navigateTo({\r\n\t\t\t\t  url: '/pages/address/list/list?is_buymyself=' +is_buymyself\r\n\t\t\t\t})\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n          for (var i = 0; i < address.length; i++) {\r\n            // find the default address\r\n            if (address[i]['isDefault'] == 1) {\r\n              that.setData({\r\n                addressIndex: i\r\n              });\r\n            }\r\n            addressList[i] = address[i]; //console.log(addressList[i]);\r\n          }\r\n\t\t  that.addressList = addressList\r\n          that.addressObjects = address;\r\n\t\t  that.addressData = address[addressIndex] ;\r\n\t\t  that.address_id = address[addressIndex]?address[addressIndex]['id']:address_id ;\r\n\t\t  console.log('address list:',address,'addressIndex:',addressIndex,' addressData:',address[addressIndex] );\r\n        }\r\n      });\r\n    },\r\n    bindSelectRedAll: function () {\r\n      var that = this; // 环境中目前已选状态\r\n\r\n      var selectedRedAllStatus = that.selectedRedAllStatus;\r\n      var modalHiddenCoupon = that.modalHiddenCoupon;\r\n      var page_red_num = that.page_red_num; // 取反操作\r\n\r\n      selectedRedAllStatus = !selectedRedAllStatus;\r\n      modalHiddenCoupon = !modalHiddenCoupon;\r\n      that.setData({\r\n        selectedRedAllStatus: selectedRedAllStatus,\r\n        modalHiddenCoupon: modalHiddenCoupon,\r\n        couponType: 2 //红包\r\n\r\n      });\r\n      console.log('bindSelectRedAll :', selectedRedAllStatus, 'page_red_num:', page_red_num);\r\n\r\n      if (selectedRedAllStatus && page_red_num == 0) {\r\n        that.query_coupon();\r\n      } else {\r\n        that.setData({\r\n          coupons_list: that.coupons_red_list\r\n        });\r\n      }\r\n    },\r\n    bindSelectAll: function () {\r\n      var that = this; // 环境中目前已选状态\r\n\r\n      var selectedAllStatus = that.selectedAllStatus;\r\n      var modalHiddenCoupon = that.modalHiddenCoupon;\r\n      var page_num = that.page_num; // 取反操作\r\n\r\n      selectedAllStatus = !selectedAllStatus;\r\n      modalHiddenCoupon = !modalHiddenCoupon;\r\n      that.setData({\r\n        selectedAllStatus: selectedAllStatus,\r\n        modalHiddenCoupon: modalHiddenCoupon,\r\n        couponType: 1 //优惠券\r\n\r\n      });\r\n      console.log('selectedAllStatus :', selectedAllStatus, 'page_num:', page_num);\r\n\r\n      if (selectedAllStatus && page_num == 0) {\r\n        that.query_coupon();\r\n      } else {\r\n        that.setData({\r\n          coupons_list: that.coupons_quan_list\r\n        });\r\n      }\r\n    },\r\n    bindSelectCoupon: function (e) {\r\n      var that = this;\r\n      var coupon_type = that.couponType;\r\n      var selected_coupon_index = e.currentTarget.dataset.couponindex ? e.currentTarget.dataset.couponindex : 0;\r\n      var selected_coupon_id = e.currentTarget.dataset.couponid ? e.currentTarget.dataset.couponid : 0;\r\n      var selected_coupon_name = e.currentTarget.dataset.couponname ? e.currentTarget.dataset.couponname : '';\r\n      var selected_coupon_content = e.currentTarget.dataset.couponcontent ? e.currentTarget.dataset.couponcontent : '';\r\n      var selected_coupon_footer = e.currentTarget.dataset.couponfooter ? e.currentTarget.dataset.couponfooter : '';\r\n      var selected_coupon_starttime = e.currentTarget.dataset.starttime;\r\n      var selected_coupon_endtime = e.currentTarget.dataset.endtime;\r\n      var selected_coupon_type = e.currentTarget.dataset.coupontype ? e.currentTarget.dataset.coupontype : 1;\r\n      var selected_coupon_amount = e.currentTarget.dataset.couponamount ? e.currentTarget.dataset.couponamount : 0;\r\n      var selected_couponimage = e.currentTarget.dataset.couponimage;\r\n\r\n      if (coupon_type == 1) {\r\n        var coupons_list = that.coupons_quan_list;\r\n      } else if (coupon_type == 2) {\r\n        var coupons_list = that.coupons_red_list;\r\n      }\r\n\r\n      for (var i = 0; i < coupons_list.length; i++) {\r\n        if (i == selected_coupon_index) {\r\n          coupons_list[selected_coupon_index]['selected'] = !coupons_list[selected_coupon_index]['selected'];\r\n        } else {\r\n          coupons_list[i]['selected'] = false;\r\n        }\r\n      }\r\n\r\n      that.setData({\r\n        selected_coupon_id: selected_coupon_id,\r\n        selected_coupon_name: selected_coupon_name,\r\n        selected_coupon_content: selected_coupon_content,\r\n        selected_coupon_footer: selected_coupon_footer,\r\n        selected_coupon_starttime: selected_coupon_starttime,\r\n        selected_coupon_endtime: selected_coupon_endtime,\r\n        selected_coupon_type: selected_coupon_type,\r\n        selected_coupon_amount: selected_coupon_amount,\r\n        selected_coupon_index: selected_coupon_index,\r\n        selected_couponimage: selected_couponimage,\r\n        coupons_list: coupons_list\r\n      });\r\n\r\n      if (coupon_type == 1) {\r\n        that.setData({\r\n          coupons_quan_list: coupons_list,\r\n          selected_coupon_quan_index: selected_coupon_index,\r\n          selected_coupon_quan_amount: selected_coupon_amount\r\n        });\r\n      } else if (coupon_type == 2) {\r\n        that.setData({\r\n          coupons_red_list: coupons_list,\r\n          selected_coupon_red_index: selected_coupon_index,\r\n          selected_coupon_red_amount: selected_coupon_amount\r\n        });\r\n      }\r\n\r\n      console.log('bindSelectCoupon coupon_type:', coupon_type, ' index:', that.selected_coupon_quan_index, ' red index:', that.selected_coupon_red_index);\r\n    },\r\n    getMoreOrdersTapTag: function (e) {\r\n      var that = this;\r\n      var coupon_type = that.coupon_type ? that.coupon_type : 1;\r\n      var page = coupon_type == 1 ? that.page + 1 : that.page;\r\n      var page_red = coupon_type == 2 ? that.page_red + 1 : that.page_red;\r\n      var pagesize = that.pagesize;\r\n      var all_rows = that.all_rows;\r\n\r\n      if (page > that.page_num && coupon_type == 1) {\r\n        wx.showToast({\r\n          title: '没有更多了~',\r\n          icon: 'none',\r\n          duration: 1500\r\n        });\r\n        return;\r\n      } else if (page_red > that.page_red_num && coupon_type == 2) {\r\n        wx.showToast({\r\n          title: '没有更多了~',\r\n          icon: 'none',\r\n          duration: 1500\r\n        });\r\n        return;\r\n      }\r\n\r\n      that.setData({\r\n        page: page,\r\n        page_red: page_red\r\n      });\r\n      that.query_coupon();\r\n    },\r\n    query_coupon: function () {\r\n      var that = this;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var openid = wx.getStorageSync('openid') ? wx.getStorageSync('openid') : '';\r\n      var page = that.page;\r\n      var page_red = that.page_red;\r\n      var pagesize = that.pagesize;\r\n      var all_rows = that.all_rows;\r\n      var page_num = that.page_num;\r\n      var page_red_num = that.page_red_num;\r\n      var shop_type = that.shop_type;\r\n      var coupons_status = 'avaliable';\r\n      var coupons_type = that.couponType;\r\n      console.log('query_coupon coupons_type:', coupons_type);\r\n      /*\r\n      if (page > that.data.page_num) {\r\n        return\r\n      }\r\n      */\r\n\r\n      that.setData({\r\n        coupons_list: {}\r\n      });\r\n      wx.request({\r\n        url: weburl + '/api/client/query_coupon',\r\n        method: 'POST',\r\n        data: {\r\n          username: username,\r\n          access_token: token,\r\n          page: page,\r\n          pagesize: pagesize,\r\n          shop_type: shop_type,\r\n          coupons_status: coupons_status,\r\n          quan_type: coupons_type\r\n        },\r\n        header: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'Accept': 'application/json'\r\n        },\r\n        success: function (res) {\r\n          console.log('查询优惠券:', res.data.result);\r\n          var coupons_list = res.data.result;\r\n          var all_rows = res.data.all_rows;\r\n\r\n          if (!res.data.result) {\r\n            wx.showToast({\r\n              title: res.data.info ? res.data.info : '暂无优惠券~',\r\n              icon: 'none',\r\n              duration: 2000\r\n            });\r\n\r\n            if (page == 1 && coupons_type == 1) {\r\n              that.setData({\r\n                coupons_quan_list: {},\r\n                page_num: 0\r\n              });\r\n            } else if (page_red == 1 && coupons_type == 2) {\r\n              that.setData({\r\n                coupons_red_list: {},\r\n                page_red_num: 0\r\n              });\r\n            }\r\n          } else {\r\n            for (var i = 0; i < coupons_list.length; i++) {\r\n              coupons_list[i]['start_time'] = util.getDateStr(coupons_list[i]['start_time'] * 1000, 0);\r\n              coupons_list[i]['end_time'] = util.getDateStr(coupons_list[i]['end_time'] * 1000, 0);\r\n              coupons_list[i]['selected'] = false;\r\n            }\r\n\r\n            if (page > 1 && coupons_type == 1 && coupons_list) {\r\n              //向后合拼\r\n              coupons_list = that.coupons_quan_list.concat(coupons_list);\r\n            } else if (page_red > 1 && coupons_type == 2 && coupons_list) {\r\n              coupons_list = that.coupons_red_list.concat(coupons_list);\r\n            }\r\n\r\n            if (coupons_type == 1) {\r\n              page_num = all_rows / pagesize + 0.5;\r\n              that.setData({\r\n                coupons_list: coupons_list,\r\n                coupons_quan_list: coupons_list,\r\n                page_num: page_num.toFixed(0),\r\n                page_red_num: 0\r\n              });\r\n            } else if (coupons_type == 2) {\r\n              page_red_num = all_rows / pagesize + 0.5;\r\n              that.setData({\r\n                coupons_list: coupons_list,\r\n                coupons_red_list: coupons_list,\r\n                page_red_num: page_red_num.toFixed(0),\r\n                page_num: 0\r\n              });\r\n            }\r\n          }\r\n\r\n          console.log('query_coupon coupons_list:', coupons_list, 'red:', that.coupons_red_list, 'quan:', that.coupons_quan_list);\r\n        }\r\n      });\r\n    },\r\n    //优惠券使用\r\n    coupon_pay: function (e) {\r\n      var that = this;\r\n      var coupon_type = that.couponType;\r\n      var amount = that.amount;\r\n      var order_num = that.order_num;\r\n      var payamount = that.payamount;\r\n      var selectedAllStatus = that.selectedAllStatus;\r\n      var selectedRedAllStatus = that.selectedRedAllStatus;\r\n      var couponSelectedId = selectedAllStatus ? that.selected_coupon_id : 0;\r\n      var couponSelectedType = selectedAllStatus ? that.selected_coupon_type : 0;\r\n      var couponSelectedAmount = selectedAllStatus ? parseFloat(that.selected_coupon_amount) : 0;\r\n      var couponSelectedRedId = selectedRedAllStatus ? that.selected_coupon_red_id : 0;\r\n      var couponSelectedRedType = selectedRedAllStatus ? that.selected_coupon_red_type : 0;\r\n      var couponSelectedRedAmount = selectedRedAllStatus ? parseFloat(that.selected_coupon_red_amount) : 0;\r\n      var carts = that.carts;\r\n      var discountpay = that.discountpay ? that.discountpay : 0;\r\n      console.log('coupon_pay couponSelectedAmount:', couponSelectedAmount, 'discountpay:', discountpay);\r\n\r\n      for (var i = 0; i < carts.length; i++) {\r\n        if (carts[i]['discount'] < 100 && carts[i]['discount'] > 0) {\r\n          //打折商品判断\r\n          if (couponSelectedType == 1 && couponSelectedId) {\r\n            //打折优惠券\r\n            discountpay = discountpay + (100 - carts[i]['discount']) * carts[i]['sell_price'] * carts[i]['num'] / 100;\r\n            discountpay = discountpay.toFixed(2);\r\n          }\r\n        }\r\n      }\r\n\r\n      if (coupon_type == 2) {\r\n        //红包\r\n        discountpay = discountpay + couponSelectedRedAmount ? couponSelectedRedAmount : 0;\r\n        discountpay = discountpay.toFixed(2);\r\n      }\r\n\r\n      payamount = (amount * order_num - discountpay).toFixed(2);\r\n      that.setData({\r\n        discountpay: discountpay,\r\n        payamount: payamount\r\n      });\r\n\r\n      if (discountpay - couponSelectedRedAmount == 0 && selectedAllStatus && coupon_type == 1) {\r\n        that.modalBindcancelCoupon();\r\n        wx.showToast({\r\n          title: '该商品无法使用优惠券',\r\n          icon: 'none',\r\n          duration: 1000\r\n        });\r\n      }\r\n    },\r\n    bindPickerChange: function (e) {\r\n      this.setData({\r\n        addressIndex: e.detail.value\r\n      });\r\n    },\r\n    bindCreateNew: function () {\r\n      var addressList = this.addressList;\r\n\r\n      if (addressList.length == 0) {\r\n        wx.navigateTo({\r\n          url: '../../address/add/add?username=' + this.username\r\n        });\r\n      }\r\n    },\r\n    //确定按钮点击事件  优惠券\r\n    modalBindaconfirmCoupon: function () {\r\n      var that = this;\r\n      var coupon_type = that.couponType;\r\n      var selectedAllStatus = that.selectedAllStatus;\r\n      var selected_coupon_index = that.selected_coupon_index ? that.selected_coupon_index : 0;\r\n      var coupon_list = that.coupons_list;\r\n      var couponSelectedStatus = coupon_list[selected_coupon_index] ? coupon_list[selected_coupon_index]['selected'] : 0;\r\n      that.setData({\r\n        modalHiddenCoupon: !this.modalHiddenCoupon\r\n      });\r\n\r\n      if (coupon_type == 1) {\r\n        that.setData({\r\n          selectedAllStatus: couponSelectedStatus ? true : false\r\n        });\r\n      } else if (coupon_type == 2) {\r\n        that.setData({\r\n          selectedRedAllStatus: couponSelectedStatus ? true : false\r\n        });\r\n      }\r\n\r\n      that.coupon_pay(); //计算优惠券价格\r\n    },\r\n    //取消按钮点击事件  优惠券\r\n    modalBindcancelCoupon: function () {\r\n      var that = this;\r\n      var coupon_type = that.couponType;\r\n      var payamount = that.payamount;\r\n      var amount = that.amount;\r\n      var discountpay = that.discountpay;\r\n      that.setData({\r\n        modalHiddenCoupon: !that.modalHiddenCoupon,\r\n        payamount: amount\r\n      });\r\n\r\n      if (coupon_type == 1) {\r\n        that.setData({\r\n          selectedAllStatus: false\r\n        });\r\n      } else if (coupon_type == 2) {\r\n        that.setData({\r\n          selectedRedAllStatus: false\r\n        });\r\n      }\r\n\r\n      that.coupon_pay(); //计算优惠券价格\r\n    },\r\n    setData: function (obj) {\r\n      let that = this;\r\n      let keys = [];\r\n      let val, data;\r\n      Object.keys(obj).forEach(function (key) {\r\n        keys = key.split('.');\r\n        val = obj[key];\r\n        data = that.$data;\r\n        keys.forEach(function (key2, index) {\r\n          if (index + 1 == keys.length) {\r\n            that.$set(data, key2, val);\r\n          } else {\r\n            if (!data[key2]) {\r\n              that.$set(data, key2, {});\r\n            }\r\n          }\r\n\r\n          data = data[key2];\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n","import mod from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkout.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./checkout.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}