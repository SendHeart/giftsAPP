{"version":3,"sources":["webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/main.js","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/member/couponsnd/couponsnd.vue?f59d","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/member/couponsnd/couponsnd.vue?277c","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/member/couponsnd/couponsnd.vue?8ce9","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/member/couponsnd/couponsnd.vue?1f9e","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/member/couponsnd/couponsnd.vue","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/member/couponsnd/couponsnd.vue?74a7","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/member/couponsnd/couponsnd.vue?51ef"],"names":["createPage","Page","util","require","weburl","getApp","globalData","shop_type","username","wx","getStorageSync","token","openid","userInfo","appid","secret","navList2_init","id","title","value","img","navList2","data","title_name","title_logo","coupon_img","coupon_content","coupon_footer","wechat_share","page","pagesize","status","all_rows","scrollTop","scrollHeight","indicatorDots","vertical","autoplay","interval","duration","note_title","headimg","avatarUrl","nickname","nickName","send_status","hiddenmodalput","amount","nums","start_time","getDateStr","Date","end_time","name","hiddenqrcode","coupons_flag","index","coupon_type","coupon_id","coupon_amount","coupon_flag","coupon_share_img","coupons","share_coupon_qrcode","coupons_json","qr_type","loadingHidden","coupons_info","dkheight","current","components","canvasdrawer","props","onLoad","options","that","onShow","uni","getSystemInfo","success","res","winHeight","windowHeight","windowWidth","query_pubcoupon","methods","image_save","image_url","image_cache_name","console","log","downloadFile","url","statusCode","img_tempFilePath","tempFilePath","fs","getFileSystemManager","saveFile","savedFilePath","setStorageSync","fail","wx_headimg_cache","coupon_qrcode_cache","getSavedFileList","i","fileList","length","activity_qrcode_cache","removeSavedFile","filePath","goBack","pages","getCurrentPages","navigateBack","changed","switchTab","modalinput","setData","cancel","setTimeout","confirm","e","detail","JSON","stringify","bindChangeNums","bindChangeStartTime","bindChangeEndTime","bindChangeName","qrcodeTapTag","page_type","navigateTo","returnTapTag","scroll","event","topLoad","get_project_gift_para","navList_new","request","method","type","header","result","access_token","coupons_type","showToast","info","icon","bindPickerChange","selected_index","get_coupon","quan_type","image","footer","content","couponObjects","reloadData","showGoods","skuId","currentTarget","dataset","goods_id","goodsId","goods_name","goodsName","onShareAppMessage","imageUrl","desc","shareObj","path","errMsg","complete","from","obj","keys","val","Object","forEach","key","split","$data","key2","$set"],"mappings":"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","file":"pages/member/couponsnd/couponsnd.js","sourcesContent":["import 'uni-pages';import '@dcloudio/uni-stat';\n\nimport Vue from 'vue'            \nimport Page from './pages/member/couponsnd/couponsnd.vue'\ncreatePage(Page)","import { render, staticRenderFns } from \"./couponsnd.vue?vue&type=template&id=17daa887&\"\nimport script from \"./couponsnd.vue?vue&type=script&lang=js&\"\nexport * from \"./couponsnd.vue?vue&type=script&lang=js&\"\nimport style0 from \"./couponsnd.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('17daa887', component.options)\n    } else {\n      api.reload('17daa887', component.options)\n    }\n    module.hot.accept(\"./couponsnd.vue?vue&type=template&id=17daa887&\", function () {\n      api.rerender('17daa887', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/pages/member/couponsnd/couponsnd.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./couponsnd.vue?vue&type=template&id=17daa887&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./couponsnd.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./couponsnd.vue?vue&type=script&lang=js&\"","//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n//\r\n\r\nvar util = require(\"utils/util.js\");\r\nvar weburl = getApp().globalData.weburl;\r\nvar shop_type = getApp().globalData.shop_type;\r\nvar username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\nvar token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\nvar openid = wx.getStorageSync('openid') ? wx.getStorageSync('openid') : '';\r\nvar userInfo = wx.getStorageSync('userInfo') ? wx.getStorageSync('userInfo') : '';\r\nvar appid = getApp().globalData.appid;\r\nvar secret = getApp().globalData.secret;\r\nvar userInfo = wx.getStorageSync('userInfo') ? wx.getStorageSync('userInfo') : '';\r\nvar navList2_init = [{\r\n  id: \"gift_logo\",\r\n  title: \"送礼logo\",\r\n  value: \"\",\r\n  img: \"/uploads/gift_logo.png\"\r\n}, {\r\n  id: \"wishlist_logo\",\r\n  title: \"心愿单logo\",\r\n  value: \"\",\r\n  img: \"/uploads/wishlist.png\"\r\n}];\r\nvar navList2 = wx.getStorageSync('navList2') ? wx.getStorageSync('navList2') : [];\r\nimport canvasdrawer from \"../../../common/canvasdrawer/canvasdrawer\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      title_name: '优惠券送出',\r\n      title_logo: '/static/images/footer-icon-05.png',\r\n      coupon_img: weburl + '/uploads/coupon_bg.png',\r\n      //\r\n      coupon_content: '',\r\n      //\r\n      coupon_footer: '',\r\n      //\r\n      wechat_share: '',\r\n      //优惠券分享背景\r\n      shop_type: shop_type,\r\n      weburl: weburl,\r\n      page: 1,\r\n      pagesize: 10,\r\n      status: 0,\r\n      all_rows: 0,\r\n      scrollTop: 0,\r\n      scrollHeight: 0,\r\n      indicatorDots: true,\r\n      vertical: false,\r\n      autoplay: true,\r\n      interval: 3000,\r\n      duration: 2000,\r\n      note_title: 'Hi~:',\r\n      headimg: userInfo.avatarUrl,\r\n      nickname: userInfo.nickName,\r\n      send_status: 0,\r\n      navList2: navList2,\r\n      hiddenmodalput: false,\r\n      amount: 0,\r\n      nums: 0,\r\n      start_time: util.getDateStr(new Date(), 0),\r\n      end_time: util.getDateStr(new Date(), 3),\r\n      name: '',\r\n      hiddenqrcode: true,\r\n      coupons_flag: '999999999999',\r\n      index: 0,\r\n      coupon_type: \"\",\r\n      coupon_id: \"\",\r\n      coupon_amount: \"\",\r\n      coupon_flag: \"\",\r\n      coupon_share_img: \"\", \r\n      coupons: \"\",\r\n      share_coupon_qrcode: \"\",\r\n      coupons_json: \"\",\r\n      qr_type: \"\",\r\n      loadingHidden: false,\r\n      coupons_info: \"\",\r\n\t  dkheight:500,\r\n\t  current:-1,\r\n    };\r\n  },\r\n\r\n  components: {\r\n    canvasdrawer\r\n  },\r\n  props: {},\r\n  onLoad: function (options) {\r\n    // 订单状态，已下单为1，已付为2，已发货为3，已收货为4 5已经评价 6退款 7部分退款 8用户取消订单 9作废订单 10退款中\r\n    var that = this;\r\n    var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n    var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n    \r\n  },\r\n  onShow: function () {\r\n    var that = this;\r\n\tuni.getSystemInfo({\r\n\t success: function (res) {\r\n\t   that.winHeight = res.windowHeight;  \r\n\t   that.windowWidth = res.windowWidth;  \r\n\t   that.dkheight = that.windowWidth - that.windowWidth * 0.05 - 120;\r\n\t }\r\n\t});\r\n\t\r\n    that.query_pubcoupon();\r\n  },\r\n  \r\n  methods: {\r\n    image_save: function (image_url, image_cache_name) {\r\n      var that = this;\r\n      console.log('couponsnd imge save image url:', image_url, 'image_cache_name:', image_cache_name);\r\n      wx.downloadFile({\r\n        url: image_url,\r\n        success: function (res) {\r\n          if (res.statusCode === 200) {\r\n            var img_tempFilePath = res.tempFilePath; // console.log('图片下载成功' + res.tempFilePath)\r\n\r\n            const fs = wx.getFileSystemManager();\r\n            fs.saveFile({\r\n              tempFilePath: res.tempFilePath,\r\n\r\n              // 传入一个临时文件路径\r\n              success(res) {\r\n                console.log('couponsnd image_save 优惠券分享图片缓存成功', image_cache_name, res.savedFilePath);\r\n                wx.setStorageSync(image_cache_name, res.savedFilePath);\r\n              },\r\n\r\n              fail(res) {\r\n                console.log(' couponsnd image_save 优惠券图片缓存失败', image_cache_name, res);\r\n                var wx_headimg_cache = wx.getStorageSync('wx_headimg_cache');\r\n                var coupon_qrcode_cache = wx.getStorageSync('coupon_qrcode_cache_' + that.coupon_id);\r\n                fs.getSavedFileList({\r\n                  success(res) {\r\n                    console.log('couponsnd getSavedFileList 缓存文件列表', res);\r\n\r\n                    for (var i = 0; i < res.fileList.length; i++) {\r\n                      if (res.fileList[i]['filePath'] != wx_headimg_cache && res.fileList[i]['filePath'] != activity_qrcode_cache) {\r\n                        fs.removeSavedFile({\r\n                          filePath: res.fileList[i]['filePath'],\r\n\r\n                          success(res) {\r\n                            console.log('couponsnd image_save 缓存清除成功', res);\r\n                          },\r\n\r\n                          fail(res) {\r\n                            console.log('couponsnd image_save 缓存清除失败', res);\r\n                          }\r\n\r\n                        });\r\n                      }\r\n                    }\r\n\r\n                    fs.saveFile({\r\n                      tempFilePath: img_tempFilePath,\r\n\r\n                      // 传入一个临时文件路径\r\n                      success(res) {\r\n                        wx.setStorageSync(image_cache_name, res.savedFilePath);\r\n                      }\r\n\r\n                    });\r\n                  },\r\n\r\n                  fail(res) {\r\n                    console.log('couponsnd getSavedFileList 缓存文件列表查询失败', res);\r\n                  }\r\n\r\n                });\r\n              }\r\n\r\n            });\r\n          } else {\r\n            console.log('couponsnd image_save 响应失败', res.statusCode);\r\n          }\r\n        }\r\n      });\r\n    },\r\n    goBack: function () {\r\n      var pages = getCurrentPages();\r\n      if (pages.length > 1) {\r\n        wx.navigateBack({\r\n          changed: true\r\n        }); //返回上一页\r\n      } else {\r\n        wx.switchTab({\r\n          url: '../../hall/hall'\r\n        });\r\n      }\r\n    },\r\n    //点击按钮指定的hiddenmodalput弹出框  \r\n    modalinput: function () {\r\n      var that = this;\r\n      that.setData({\r\n        hiddenmodalput: !that.hiddenmodalput\r\n      });\r\n    },\r\n    //取消按钮  \r\n    cancel: function () {\r\n      var that = this;\r\n      setTimeout(function () {\r\n        wx.navigateBack();\r\n      }, 500);\r\n    },\r\n    //确认  \r\n    confirm: function (e) {\r\n      var that = this;\r\n\t  var id = e.detail.value;\r\n\t  var coupons_info = that.coupons_info\r\n\t  var current = that.current\r\n\t  for (let i = 0; i < coupons_info.length; i++) {\r\n\t  \tif (coupons_info[i].id === id) {\r\n\t  \t\tcurrent = i;\r\n\t  \t\tbreak;\r\n\t  \t}\r\n\t  }\r\n\t  \r\n\t\r\n      var name = coupons_info[current]['name'];\r\n      var coupon_content = coupons_info[current]['content'];\r\n      var coupon_id = coupons_info[current]['id'];\r\n      var coupon_flag = coupons_info[current]['flag'];\r\n      var coupon_type = coupons_info[current]['type'];\r\n      var coupon_amount = coupons_info[current]['amount'];\r\n      var coupon_img = coupons_info[current]['image'];\r\n      var coupon_footer = coupons_info[current]['footer'];\r\n      var start_time = coupons_info[current]['start_time'];\r\n      var end_time = coupons_info[current]['end_time'];\r\n      var coupon_share_img = coupons_info[current]['share_image'];\r\n      var coupons = coupons_info[current];\r\n      var qr_type = that.qr_type;\r\n      var coupons_json = JSON.stringify(coupons);\r\n      var share_coupon_qrcode = weburl + '/api/WXPay/getQRCode?username=' + username + '&appid=' + appid + '&secret=' + secret + '&shop_type=' + shop_type + '&qr_type=' + qr_type + '&coupons_flag=' + coupon_flag + '&coupons_type=' + coupon_type + '&coupons_id=' + coupon_id + '&coupons=' + coupons_json; //that.image_save(share_coupon_qrcode, 'coupon_qrcode_cache_' + coupon_id)\r\n\r\n\tthat.hiddenmodalput = true,\r\n\tthat.current = current\r\n\tthat.name = name\r\n\tthat.coupon_content = coupon_content\r\n\tthat.coupon_type = coupon_type\r\n\tthat.coupon_id = coupon_id\r\n\tthat.coupon_amount = coupon_amount\r\n\tthat.coupon_flag = coupon_flag\r\n\tthat.coupon_img = coupon_img\r\n\tthat.coupon_footer = coupon_footer\r\n\tthat.start_time = start_time\r\n\tthat.end_time = end_time\r\n\tthat.coupon_share_img = coupon_share_img\r\n\tthat.coupons = coupons\r\n\tthat.share_coupon_qrcode = share_coupon_qrcode\r\n       console.log('coupons_info:', coupons_info, 'current:', current,' coupons:',coupons);\r\n\t  //that.get_project_gift_para()\r\n      //that.get_coupon()\r\n    },\r\n    bindChangeNums: function (e) {\r\n      var that = this;\r\n      var nums = e.detail.value;\r\n      that.setData({\r\n        nums: nums\r\n      });\r\n      console.log('nums:' + that.nums);\r\n    },\r\n    bindChangeStartTime: function (e) {\r\n      var that = this;\r\n      var start_time = e.detail.value;\r\n      that.setData({\r\n        start_time: start_time\r\n      });\r\n      console.log('start_time:' + that.start_time);\r\n    },\r\n    bindChangeEndTime: function (e) {\r\n      var that = this;\r\n      var end_time = e.detail.value;\r\n      that.setData({\r\n        end_time: end_time\r\n      });\r\n      console.log('end_time:' + that.end_time);\r\n    },\r\n    bindChangeName: function (e) {\r\n      var that = this;\r\n      var name = e.detail.value;\r\n      that.setData({\r\n        name: name\r\n      });\r\n      console.log('name:' + that.name);\r\n    },\r\n    qrcodeTapTag: function (e) {\r\n      var that = this;\r\n      var qr_type = 'couponshare'; //\r\n\r\n      var name = that.name;\r\n      var page_type = '3'; //\r\n\r\n      var hiddenqrcode = that.hiddenqrcode;\r\n      var hiddenmodalput = that.hiddenmodalput;\r\n      var coupons_json = JSON.stringify(that.coupons);\r\n      var share_coupon_qrcode = that.share_coupon_qrcode;\r\n      console.log('qrcodeTapTag coupons_json:', coupons_json);\r\n      that.setData({\r\n        hiddenqrcode: !hiddenqrcode,\r\n        coupons_json: coupons_json,\r\n        //hiddenmodalput: !hiddenmodalput,\r\n        qr_type: qr_type\r\n      }); //that.eventDraw()\r\n      //var share_coupon_qrcode_cache = wx.getStorageSync('coupon_qrcode_cache_' + that.data.coupon_id)\r\n\r\n      wx.navigateTo({\r\n        url: '../share/share?coupons=' + coupons_json + '&act_title=' + name + '&share_coupon_qrcode_cache=' + share_coupon_qrcode\r\n      });\r\n    },\r\n    returnTapTag: function (e) {\r\n      wx.switchTab({\r\n        url: '../../my/index'\r\n      });\r\n    },\r\n    scroll: function (event) {\r\n      //该方法绑定了页面滚动时的事件，我这里记录了当前的position.y的值,为了请求数据之后把页面定位到这里来。\r\n      this.setData({\r\n        scrollTop: event.detail.scrollTop\r\n      });\r\n    },\r\n    topLoad: function (event) {\r\n      //   该方法绑定了页面滑动到顶部的事件，然后做上拉刷新\r\n      //page = 1;\r\n      this.setData({\r\n        //list: [],\r\n        scrollTop: 0\r\n      }); //loadMore(this);\r\n\r\n      console.log(\"lower\");\r\n    },\r\n    get_project_gift_para: function () {\r\n      var that = this;\r\n      var shop_type = that.shop_type;\r\n\t  var navList_new = wx.getStorageSync('navList2') ? wx.getStorageSync('navList2') : '';\r\n      var page = that.page;\r\n      var pagesize = that.pagesize;\r\n      var coupon_type = that.coupon_type;\r\n      var coupon_img = that.coupon_img;\r\n      console.log('couponsnd get_project_gift_para navList2:', navList2, 'coupon_type:', coupon_type);\r\n\r\n      if (!navList_new) {\r\n        //项目列表\r\n        wx.request({\r\n          url: weburl + '/api/client/get_project_gift_para',\r\n          method: 'POST',\r\n          data: {\r\n            type: 2,\r\n            //暂定\r\n            shop_type: shop_type\r\n          },\r\n          header: {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n            'Accept': 'application/json'\r\n          },\r\n          success: function (res) {\r\n            console.log('get_project_gift_para:', res.data.result);\r\n            navList_new = res.data.result;\r\n\r\n            if (!navList_new) {\r\n              /*\r\n               \r\n               */\r\n              return;\r\n            } else {\r\n              if (coupon_type == 1) {\r\n                coupon_img = navList_new[8]['img'];\r\n              } else if (coupon_type == 2) {\r\n                coupon_img = navList_new[9]['img'];\r\n              } else if (coupon_type == 3) {\r\n                coupon_img = navList_new[10]['img'];\r\n              }\r\n\r\n              that.setData({\r\n                navList2: navList_new,\r\n                wechat_share: navList_new[5]['img'],\r\n                coupon_img: coupon_img\r\n              });\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      if (coupon_type == 1) {\r\n        coupon_img = navList_new[8]['img'];\r\n      } else if (coupon_type == 2) {\r\n        coupon_img = navList_new[9]['img'];\r\n      } else if (coupon_type == 3) {\r\n        coupon_img = navList_new[10]['img'];\r\n      }\r\n\r\n      that.setData({\r\n        navList2: navList_new,\r\n        wechat_share: navList_new[5]['img'],\r\n        coupon_img: coupon_img\r\n      });\r\n      setTimeout(function () {\r\n        that.setData({\r\n          loadingHidden: true\r\n        });\r\n      }, 1500); // that.eventDraw()\r\n    },\r\n    query_pubcoupon: function () {\r\n      var that = this;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var openid = wx.getStorageSync('openid') ? wx.getStorageSync('openid') : '';\r\n      \r\n      var coupons_flag = that.coupons_flag;\r\n      wx.request({\r\n        url: weburl + '/api/client/query_pubcoupon',\r\n        method: 'POST',\r\n        data: {\r\n          username: username,\r\n          access_token: token,\r\n          coupons_flag: coupons_flag,\r\n          //coupons_id: coupons_id,\r\n          coupons_type: 999,\r\n          //优惠券 & 红包\r\n          shop_type: shop_type\r\n        },\r\n        header: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'Accept': 'application/json'\r\n        },\r\n        success: function (res) {\r\n          var coupons_info = res.data.result;\r\n\r\n          if (!res.data.result) {\r\n            wx.showToast({\r\n              title: res.data.info ? res.data.info : '暂无该批次券',\r\n              icon: 'none',\r\n              duration: 1500\r\n            });\r\n\t\t\t/*\r\n            setTimeout(function () {\r\n              //wx.navigateBack()\r\n              wx.switchTab({\r\n                url: '../../my/index'\r\n              });\r\n            }, 1500);\r\n\t\t\t*/\r\n          } else {\r\n            if (coupons_info.length > 0) {\r\n              for (var i = 0; i < coupons_info.length; i++) {\r\n                coupons_info[i]['start_time'] = util.getDateStr(coupons_info[i]['start_time'] * 1000, 0);\r\n                coupons_info[i]['end_time'] = util.getDateStr(coupons_info[i]['end_time'] * 1000, 0);\r\n              }\r\n\r\n              that.setData({\r\n                coupons_info: coupons_info\r\n              });\r\n              console.log('查询优惠券发行信息 coupons_info:', coupons_info, ' coupons_info.length:', coupons_info.length);\r\n            }\r\n          }\r\n        }\r\n      });\r\n    },\r\n    bindPickerChange: function (e) {\r\n      var that = this;\r\n      var selected_index = e.detail.value;\r\n      var name = that.coupons_info[selected_index]['name'];\r\n      var coupon_content = that.coupons_info[selected_index]['content'];\r\n      var coupon_type = that.coupons_info[selected_index]['type'];\r\n      var coupon_footer = that.coupons_info[selected_index]['footer'];\r\n      var start_time = that.coupons_info[selected_index]['start_time'];\r\n      var end_time = that.coupons_info[selected_index]['end_time'];\r\n      var coupon_share_img = that.coupons_info[selected_index]['share_image'];\r\n      console.log('picker发送选择改变，携带值为', e.detail.value, 'coupon_type:', coupon_type);\r\n      that.setData({\r\n        index: selected_index,\r\n        name: name,\r\n        coupon_content: coupon_content,\r\n        coupon_type: coupon_type,\r\n        coupon_footer: coupon_footer,\r\n        start_time: start_time,\r\n        end_time: end_time,\r\n        coupon_share_img: coupon_share_img,\r\n        coupons: that.coupons_info[selected_index]\r\n      });\r\n      console.log('自定义值:', that.coupons_info[selected_index]['name']);\r\n    },\r\n    get_coupon: function () {\r\n      var that = this;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var shop_type = that.shop_type;\r\n      var amount = that.amount; //优惠券面额 \r\n\r\n      var name = that.name; //优惠券名 \r\n\r\n      var nums = that.nums; //优惠券数量\r\n\r\n      var start_time = that.start_time; //优惠券有效期\r\n\r\n      var end_time = that.end_time; //优惠券有效期\r\n\r\n      var quan_type = that.coupon_type ? that.coupon_type : 1; //1送心打折券 2红包 3积分奖励\r\n\r\n      var coupon_img = that.coupon_img;\r\n      var coupon_footer = that.coupon_footer;\r\n      var coupon_content = that.coupon_content; //that.setNavigation()\r\n\r\n      console.log('优惠券信息'); //获取优惠券链接\r\n\r\n      if (start_time > end_time) {\r\n        wx.showToast({\r\n          title: '有效期错误!',\r\n          icon: 'loading',\r\n          duration: 1500\r\n        });\r\n        setTimeout(function () {\r\n          wx.navigateBack();\r\n        }, 1500);\r\n        return;\r\n      }\r\n\r\n      wx.request({\r\n        url: weburl + '/api/client/get_coupon',\r\n        method: 'POST',\r\n        data: {\r\n          username: username,\r\n          access_token: token,\r\n          name: name,\r\n          amount: amount,\r\n          nums: nums,\r\n          start_time: start_time,\r\n          end_time: end_time,\r\n          quan_type: quan_type,\r\n          shop_type: shop_type,\r\n          image: coupon_img,\r\n          footer: coupon_footer,\r\n          content: coupon_content\r\n        },\r\n        header: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'Accept': 'application/json'\r\n        },\r\n        success: function (res) {\r\n          console.log('生成优惠券:', res.data.result);\r\n          var couponObjects = res.data.result;\r\n\r\n          if (!couponObjects) {\r\n            wx.showToast({\r\n              title: res.data.info ? res.data.info : '无法生成优惠券',\r\n              icon: 'none',\r\n              duration: 1500\r\n            });\r\n            setTimeout(function () {\r\n              wx.navigateBack();\r\n            }, 1500);\r\n            return;\r\n          } else {\r\n            var coupons = couponObjects;\r\n            that.setData({\r\n              coupons: coupons\r\n            });\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    /*\r\n    eventDraw: function () {\r\n      var that = this\r\n      var wechat_share = that.data.wechat_share\r\n      var shop_type = that.data.shop_type\r\n      var qr_type = 'couponshare'  //\r\n      var coupons = that.data.coupons[0]\r\n      \r\n      var coupons_json = JSON.stringify(coupons)\r\n      \r\n      wx.showLoading({\r\n        title: '生成优惠券扫码图片',\r\n        mask: true\r\n      })\r\n      //console.log('优惠券扫码图片信息:', coupons)\r\n      that.setData({\r\n        painting: {\r\n          width: 375,\r\n          height: 667,\r\n          clear: true,\r\n          views: [\r\n            {\r\n              type: 'image',\r\n              url: wechat_share,\r\n              top: 0,\r\n              left: 0,\r\n              width: 375,\r\n              height: 667\r\n            },\r\n         //'&coupons_addtime=' + coupons['addtime']+'&coupons_endtime=' + coupons['end_time']+ '&coupons_starttime=' + coupons['start_time']+ '&coupons_amount=' + coupons['amount']+ '&coupons_image=' + coupons['image']+ '&coupons_status=' + coupons['status']+ '&coupons_shoptype=' + coupons['shop_type']+ '&coupons_type=' + coupons['type']+ '&coupons_name=' + coupons['name']+ '&coupons_adminid=' + coupons['admin_id'] + '&coupons_flag=' + coupons['flag']\r\n            {\r\n              type: 'image',\r\n              //url: weburl + '/api/WXPay/getQRCode?username=' + username + '&appid=' + appid + '&secret=' + secret + '&shop_type=' + shop_type + '&qr_type=' + qr_type + '&coupons_status=' + coupons['status'] + '&coupons_flag=' + coupons['flag'] + '&coupons_name=' + coupons['name'] + '&coupons_type=' + coupons['type'] + '&coupons_name=' + coupons['name'] + '&coupons_amount=' + coupons['amount'],\r\n              url: weburl + '/api/WXPay/getQRCode?username=' + username + '&appid=' + appid + '&secret=' + secret + '&shop_type=' + shop_type + '&qr_type=' + qr_type + '&coupons=' + coupons_json,\r\n              top: 450,\r\n              left: 130,\r\n              width: 110,\r\n              height: 125,\r\n              },\r\n            {\r\n              type: 'text',\r\n              content: '长按识别二维码，领取优惠券',\r\n              fontSize: 18,\r\n              color: '#dc344d',\r\n              textAlign: 'left',\r\n              top: 580,\r\n              left: 70,\r\n              lineHeight: 30,\r\n              MaxLineNumber: 2,\r\n              breakWord: true,\r\n              //width: 150\r\n            }\r\n          ]\r\n        }\r\n      })\r\n      console.log('二维码 paint:', that.data.painting)\r\n    },\r\n    eventSave: function () {\r\n      wx.saveImageToPhotosAlbum({\r\n        filePath: this.data.shareImage,\r\n        success(res) {\r\n          wx.showToast({\r\n            title: '保存图片成功',\r\n            icon: 'success',\r\n            duration: 2000\r\n          })\r\n        }\r\n      })\r\n    },\r\n    eventGetImage: function (event) {\r\n      console.log('eventGetImage:',event)\r\n      wx.hideLoading()\r\n      const { tempFilePath, errMsg } = event.detail\r\n      if (errMsg === 'canvasdrawer:ok') {\r\n        this.setData({\r\n          shareImage: tempFilePath\r\n        })\r\n      }\r\n    },\r\n    */\r\n    reloadData: function () {\r\n      /*\r\n      var that = this;\r\n      var order_type = that.data.tab2;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var status = that.data.status;\r\n      var page = that.data.page;\r\n      var pagesize = that.data.pagesize;\r\n      //从服务器获取订单列表\r\n      wx.request({\r\n        url: weburl + '/api/client/query_order_list',\r\n        method: 'POST',\r\n        data: {\r\n          username: username,\r\n          access_token: token,\r\n          status: status,\r\n          order_type: order_type,\r\n          page: page,\r\n        },\r\n        header: {\r\n          'Content-Type': 'application/x-www-form-urlencoded',\r\n          'Accept': 'application/json'\r\n        },\r\n        success: function (res) {\r\n          console.log(res.data.result);\r\n          var orderObjects = res.data.result;\r\n          var all_rows = res.data.all_rows;\r\n          if (!res.data.result) {\r\n            wx.showToast({\r\n              title: '没有该类型订单',\r\n              icon: 'loading',\r\n              duration: 1500\r\n            });\r\n            setTimeout(function () {\r\n              wx.navigateBack();\r\n            }, 500);\r\n            that.setData({\r\n              orders: [],\r\n              all_rows: 0\r\n            });\r\n          } else {\r\n            // 存储地址字段\r\n            for (var i = 0; i < orderObjects.length; i++) {\r\n              orderObjects[i]['logo'] = weburl + '/' + orderObjects[i]['logo'];\r\n              for (var j = 0; j < orderObjects[i]['order_sku'].length; j++) {\r\n                orderObjects[i]['order_sku'][j]['sku_image'] = weburl + orderObjects[i]['order_sku'][j]['sku_image'];\r\n              }\r\n              }\r\n            if (page > 1 && orderObjects) {\r\n              //向后合拼\r\n              orderObjects = that.data.orders.concat(orderObjects);\r\n            }\r\n            that.setData({\r\n              orders: orderObjects,\r\n              all_rows: all_rows\r\n            });\r\n          }\r\n            }\r\n      })\r\n      */\r\n    },\r\n    showGoods: function (e) {\r\n      var skuId = e.currentTarget.dataset.skuId;\r\n      var username = wx.getStorageSync('username') ? wx.getStorageSync('username') : '';\r\n      var token = wx.getStorageSync('token') ? wx.getStorageSync('token') : '1';\r\n      var goods_id = e.currentTarget.dataset.goodsId;\r\n      var goods_name = e.currentTarget.dataset.goodsName;\r\n      console.log('showGoods');\r\n      console.log(goods_name + ' ' + goods_id);\r\n      wx.navigateTo({\r\n        url: '../../details/details?sku_id=' + skuId + '&goods_name=' + goods_name + '&id=' + goods_id + '&token=' + token + '&username=' + username\r\n      });\r\n    },\r\n\tonShareAppMessage: function (options) {\r\n\t  var that = this;\r\n\t  var res;\r\n\t  var coupons = that.coupons_info;\r\n\t  var username = that.username;\r\n\t  var token = that.token;\r\n\t  var nickname = that.nickname;\r\n\t  var title = that.coupon_type == 1 ? '收到一张' + that.name + '~' : '收到一个' + that.name + '~';\r\n\t  var imageUrl = that.coupon_share_img; //navList2[6]['img']\r\n\t\r\n\t  var coupon_type = that.coupon_type ? that.coupon_type : 1;\r\n\t  var coupon_id = that.coupon_id ? that.coupon_id : 0;\r\n\t  var coupon_flag = that.coupon_flag ? that.coupon_flag : 9;\r\n\t  var desc = '';\r\n\t\r\n\t  if (coupon_type == 1) {\r\n\t    desc = '一张优惠券';\r\n\t  } else if (coupon_type == 2) {\r\n\t    desc = '一个红包';\r\n\t  } else if (coupon_type == 3) {\r\n\t    desc = '一个积分奖励';\r\n\t  }\r\n\t\r\n\t  console.log('开始送优惠券', options);\r\n\t\r\n\t  if (!coupons) {\r\n\t    console.log('优惠券为空');\r\n\t    return;\r\n\t  }\r\n\t\r\n\t  var shareObj = {\r\n\t    title: title,\r\n\t    // 默认是小程序的名称(可以写slogan等)\r\n\t    desc: desc,\r\n\t    //path: '/pages/hall/hall?page_type=3&coupons=' + JSON.stringify(coupons)  + '&receive=1' + '&random=' + Math.random().toString(36).substr(2, 15),   // 默认是当前页面，必须是以‘/’开头的完整路径\r\n\t    path: '/pages/member/couponrcv/couponrcv?coupons_flag=' + coupon_flag + '&coupons_id=' + coupon_id + '&coupons_type=' + coupon_type + '&receive=1',\r\n\t    // 默认是当前页面，必须是以‘/’开头的完整路径\r\n\t    imageUrl: imageUrl,\r\n\t    //自定义图片路径，可以是本地文件路径、代码包文件路径或者网络图片路径，支持PNG及JPG，不传入 imageUrl 则使用默认截图。显示图片长宽比是 5:4\r\n\t    success: function (res) {\r\n\t      console.log(res);\r\n\t\r\n\t      if (res.errMsg == 'shareAppMessage:ok') {\r\n\t        // 转发成功之后的回调\r\n\t        that.setData({\r\n\t          send_status: 1\r\n\t        });\r\n\t      }\r\n\t    },\r\n\t    fail: function (res) {\r\n\t      console.log(res);\r\n\t\r\n\t      if (res.errMsg == 'shareAppMessage:fail cancel') {// 转发失败之后的回调\r\n\t        // 用户取消转发\r\n\t      } else if (res.errMsg == 'shareAppMessage:fail') {// 转发失败，其中 detail message 为详细失败信息\r\n\t      }\r\n\t    },\r\n\t    complete: function () {// 转发结束之后的回调（转发成不成功都会执行）\r\n\t    }\r\n\t  };\r\n\t\r\n\t  if (options.from === 'button') {\r\n\t    // 来自页面内转发按钮\r\n\t    // shareBtn\r\n\t    // 此处可以修改 shareObj 中的内容\r\n\t    //var orderno = order_no.split(','); //有可能一份礼物包括多个订单号 按店铺拆单的情况\r\n\t    console.log('优惠券分享', shareObj);\r\n\t  } // 返回shareObj\r\n\t\r\n\t\r\n\t  return shareObj;\r\n\t},\r\n    setData: function (obj) {\r\n      let that = this;\r\n      let keys = [];\r\n      let val, data;\r\n      Object.keys(obj).forEach(function (key) {\r\n        keys = key.split('.');\r\n        val = obj[key];\r\n        data = that.$data;\r\n        keys.forEach(function (key2, index) {\r\n          if (index + 1 == keys.length) {\r\n            that.$set(data, key2, val);\r\n          } else {\r\n            if (!data[key2]) {\r\n              that.$set(data, key2, {});\r\n            }\r\n          }\r\n\r\n          data = data[key2];\r\n        });\r\n      });\r\n    }\r\n  }\r\n};\r\n","import mod from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./couponsnd.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./couponsnd.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}