{"version":3,"sources":["webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/components/jsfun-record/jsfun-record.vue?12f3","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/components/jsfun-record/jsfun-record.vue?86df","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/components/jsfun-record/jsfun-record.vue?b566","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/components/jsfun-record/jsfun-record.vue?d641","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/components/jsfun-record/jsfun-record.vue","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/components/jsfun-record/jsfun-record.vue?c9d2","webpack:///C:/Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/components/jsfun-record/jsfun-record.vue?dff7"],"names":["recorderManager","uni","getRecorderManager","innerAudioContext","createInnerAudioContext","name","props","voicePath","type","String","default","maxTime","minTime","data","isShow","frame","recordTime","isshowyuan","playing","computed","showRecordTime","strs","m","Math","floor","s","watch","onLoad","_this","authorize","scope","success","initValue","onReady","onStop","res","console","log","JSON","stringify","tempFilePath","query","createSelectorQuery","select","boundingClientRect","exec","tempw","width","temph","height","tempw1","methods","moveHandle","showPicker","setTimeout","closePicker","stopVoice","okClick","$emit","start","canvasObj","createCanvasContext","end","clearInterval","timeObj","drawObj","setFillStyle","fillRect","draw","showToast","title","icon","stop","record","setInterval","pianyi","getSystemInfoSync","platform","centerX","centerY","yuanhuanW","beginPath","setStrokeStyle","setGlobalAlpha","setLineWidth","arc","PI","stroke","angle","playVoice","src","play"],"mappings":"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","file":"components/jsfun-record/jsfun-record.js","sourcesContent":["import { render, staticRenderFns } from \"./jsfun-record.vue?vue&type=template&id=da15ac60&\"\nimport script from \"./jsfun-record.vue?vue&type=script&lang=js&\"\nexport * from \"./jsfun-record.vue?vue&type=script&lang=js&\"\nimport style0 from \"./jsfun-record.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('da15ac60', component.options)\n    } else {\n      api.reload('da15ac60', component.options)\n    }\n    module.hot.accept(\"./jsfun-record.vue?vue&type=template&id=da15ac60&\", function () {\n      api.rerender('da15ac60', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Users/qzcsc/Documents/HBuilderProjects/appgift/appsendheart/myappdemo/components/jsfun-record/jsfun-record.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-hbuilderx/packages/webpack-uni-nvue-loader/lib/templateLoader.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jsfun-record.vue?vue&type=template&id=da15ac60&\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jsfun-record.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jsfun-record.vue?vue&type=script&lang=js&\"","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\t\n\tconst recorderManager = uni.getRecorderManager();//录音\n\tconst innerAudioContext = uni.createInnerAudioContext();//播放\n\texport default {\n\t\tname: 'jsfun-record',\n\t\tprops: {\n\t\t\tvoicePath: { //默认地址\n\t\t\t\ttype: String,\n\t\t\t\tdefault: '' \n\t\t\t},\n\t\t\tmaxTime: { // 录音最大时长，单位秒\n\t\t\t\ttype: String,\n\t\t\t\tdefault: \"60\"\n\t\t\t},\n\t\t\tminTime: { // 录音最大时长，单位毫秒\n\t\t\t\ttype:String ,\n\t\t\t\tdefault: \"5\"\n\t\t\t},\n\t\t},\t\t\n\t\tdata() {\n\t\t\treturn {\t\t\t\t\n\t\t\t\tisShow:false,\t\n\t\t\t\tframe: 50, // 执行绘画的频率，单位毫秒\n\t\t\t\trecordTime:0,//录音时长\n\t\t\t\tisshowyuan:false,//是否显示圆圈\n\t\t\t\tplaying:0,//是否播放中\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tshowRecordTime() {\n\t\t\t\tvar strs = \"\";\n\t\t\t\tvar m = Math.floor(this.recordTime/60);\n\t\t\t\tif(m<10) strs = \"0\"+m;\n\t\t\t\t\n\t\t\t\tvar s = this.recordTime%60;\n\t\t\t\tstrs += (s<10) ? \":0\"+s : \":\"+s;\n\t\t\t\t\t\t\t\t\n\t\t\t\treturn strs\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t//这里需要监听默认值的改变，重新初始化\n\t\t  //   defaultArr(val) {\n\t\t\t\t// console.log(val);\n\t\t\t\t// this.initValue();\n\t\t  //   }\n\t\t},\n\t\tonLoad() {\t\t\n\t\t\tvar _this = this;\n\t\t\t\n\t\t\t//获取录音权限\n\t\t\tuni.authorize({\n\t\t\t\tscope: 'scope.record',\n\t\t\t\tsuccess() {\n\t\t\t\t}\n\t\t\t})\n\t\t\t\n\t\t\t//初始化\n\t\t\tthis.initValue();\t\t\t\n\t\t\t\n\t\t},\n\t\tonReady() {\n\t\t\tvar _this = this;\n\t\t\t\n\t\t\t//录音停止事件\n\t\t\trecorderManager.onStop(function (res) {\n\t\t\t\tconsole.log('recorder stop' + JSON.stringify(res));\n\t\t\t\t_this.voicePath = res.tempFilePath;\n\t\t\t});\t\n\t\t\t\n\t\t\t\t\t\t\t\n\t\t\t//根据canvas 动态中心点\t\t\t\t\n\t\t\tvar query = uni.createSelectorQuery();\n\t\t\tquery.select(\".canvas\").boundingClientRect()\n\t\t\tquery.exec(function(res){\n\t\t\t\t//这里原来使用比例计算发现有误差，所以采用下边的中心点计算\n\t\t\t\t//_this.bili = res[0].width / 100;\n\t\t\t\t\n\t\t\t\t_this.tempw = res[0].width;//使用canvas的宽度计算中心点的位置\n\t\t\t\t_this.temph = res[0].height;\n\t\t\t})\n\t\t\t//根据中心图片的大小计算圆环的大小\n\t\t\tvar query = uni.createSelectorQuery();\n\t\t\tquery.select(\".recording\").boundingClientRect()\n\t\t\tquery.exec(function(res){\n\t\t\t\t_this.tempw1 = res[0].width;//使用点按图形的宽度计算圆环的宽高\n\t\t\t})\n\t\t\t\n\t\t\t\n\t\t},\n\t\tmethods: {\n\t\t\tmoveHandle(){\n\t\t\t\treturn false;\n\t\t\t},\n\t\t\t//组件数据初始化  进入时、关闭时调用初始化\n\t\t\tinitValue(){\n\t\t\t\t\n\t\t\t},\t\n\t\t\t//显示组件\n\t\t\tshowPicker(){\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t  this.isShow = true;\n\t\t\t\t}, 100);\t\t\t\t\n\t\t\t},\n\t\t\t//关闭组件\n\t\t\tclosePicker(){\t\t\t\t\n\t\t\t\tthis.isShow = false;\n\t\t\t\t//点遮罩 点取消关闭说明用户不想修改，所以这里对数据进行初始化\n\t\t\t\tthis.initValue(); \n\t\t\t\tthis.stopVoice();\n\t\t\t},\t\t\t\t\t\n\t\t\t//点击确定\n\t\t\tokClick(){\n\t\t\t\t// var data = {},list = {},textStr = \"\",indexStr = \"\";\t\t\t\t\t\t\t\t\n\t\t\t\tthis.$emit('okClick',this.voicePath)\n\t\t\t\t\n\t\t\t\t//确定后更新默认初始值,这样再次进入默认初值就是最后选择的\n\t\t\t\t// this.defaultArr = textStr;\n\t\t\t\t//关闭\n\t\t\t\tthis.closePicker();\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t\tstart: function() {\n\t\t\t\tthis.stopVoice();\n\t\t\t\tthis.voicePath = \"\";//音频地址\t\t\t\t\n\t\t\t\tthis.recordTime = 0;\t\t\t\n\t\t\t\t//生成canvas对象\n\t\t\t\tthis.canvasObj = uni.createCanvasContext('canvas');\t\n\t\t\t},\n\t\t\tend: function() {\n\t\t\t\tlet recordTime =  this.recordTime;\n\t\t\t\t\n\t\t\t\tclearInterval(this.timeObj); //清除计时器\n\t\t\t\tclearInterval(this.drawObj); //清除画布动画\t\n\t\t\t\tthis.recordTime = 0;//清除计时\n\t\t\t\tthis.isshowyuan = false;//隐藏圆圈\n\t\t\t\t//清除canvas内容 方式一：不知道为啥 不起作用\n\t\t\t\t//this.canvasObj.clearRect(0,0,this.canvasObj.width,this.canvasObj.height);\n\t\t\t\t//清除canvas内容 方式二：填充canvas为白色\n\t\t\t\tthis.canvasObj.setFillStyle('#fff')\n\t\t\t\tthis.canvasObj.fillRect(0, 0, this.canvasObj.width,this.canvasObj.height)\n\t\t\t\tthis.canvasObj.draw()\n\t\t\t\t \n\t\t\t\tif(recordTime < this.minTime ){\t\t\t\t\t\n\t\t\t\t\tif (recordTime<=0) { \n\t\t\t\t\t\t//==点击事件==;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t\t//==小于5秒==;\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle:\"不能小于\"+this.minTime+\"秒,请重新录制\",\n\t\t\t\t\t\ticon:\"none\"\n\t\t\t\t\t})\n\t\t\t\t\treturn false;\n\t\t\t\t} \t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\trecorderManager.stop();\t\n\t\t\t},\n\t\t\trecord: function() {\n\t\t\t\tlet _this = this;\n\t\t\t\t\n\t\t\t\t_this.isshowyuan = true\t\t\t\n\t\t\t\t// 开始录音\n                recorderManager.start();\t\n\t\t\t\n\t\t\t\t_this.timeObj = setInterval(function() {\t\n\t\t\t\t\t_this.recordTime ++;\t\t\n\t\t\t\t\tif(_this.recordTime  == _this.maxTime) _this.end();\n\t\t\t\t},1000);\n\t\t\t\t\n\t\t\t\t//中心点坐标 这里如果直接除2发现位置有偏差，目前还没明白为什么要减1\n\t\t\t\tlet pianyi = 0\n\t\t\t\tswitch(uni.getSystemInfoSync().platform){\n\t\t\t\t\tcase 'android': pianyi=0;break;\n\t\t\t\t\tcase 'ios':pianyi=1;break;\n\t\t\t\t\tdefault:pianyi=1; break;\n\t\t\t\t}\n\t\t\t\tlet centerX = _this.tempw/2 + pianyi;\n\t\t\t\tlet centerY = _this.temph/2 + pianyi;\n\t\t\t\tlet yuanhuanW = _this.tempw1/2+4;//圆环的半径  中间图片的宽度/2 + 4\n\t\t\t\t\n\t\t\t\t// 录音过程圆圈动画的背景园\n\t\t\t\t_this.canvasObj.beginPath();\n\t\t\t\t_this.canvasObj.setStrokeStyle(\"#fe3b54\");\n\t\t\t\t_this.canvasObj.setGlobalAlpha(0.3)\n\t\t\t\t_this.canvasObj.setLineWidth(3);\n\t\t\t\t_this.canvasObj.arc(centerX,centerY, yuanhuanW , 0, 2 * Math.PI);\t\t\t\t\n\t\t\t\t_this.canvasObj.stroke();\n\t\t\t\t_this.canvasObj.draw();\n\t\t\t\t\n\t\t\t\t// 录音过程圆圈动画\n\t\t\t\tlet angle = -0.5;\t\t\t\t\n\t\t\t\t_this.drawObj = setInterval(function() {\n\t\t\t\t\t_this.canvasObj.beginPath();\n\t\t\t\t\t_this.canvasObj.setStrokeStyle(\"#fe3b54\");\t\t\t\t\t\n\t\t\t\t\t_this.canvasObj.setGlobalAlpha(1)\n\t\t\t\t\t_this.canvasObj.setLineWidth(3);\n\t\t\t\t\t_this.canvasObj.arc(centerX,centerY, yuanhuanW , -0.5 * Math.PI, (angle += 2 / (_this.maxTime * 1000 / _this.frame)) * Math.PI, false);\n\t\t\t\t\t_this.canvasObj.stroke();\n\t\t\t\t\t_this.canvasObj.draw(true);\n\t\t\t\t}, _this.frame);\n\t\t\t\t\n\t\t\t\t\n\t\t\t},\n\t\t\tplayVoice() {\n\t\t\t\tif (this.voicePath) {\n\t\t\t\t\tinnerAudioContext.src = this.voicePath;\n\t\t\t\t\tinnerAudioContext.play();\n\t\t\t\t\tthis.playing = 1;\n\t\t\t\t}\n\t\t\t},\n\t\t\tstopVoice() {\n\t\t\t\tinnerAudioContext.stop();\n\t\t\t\tthis.playing = 0;\t\t\t\n\t\t\t},\n\t\t\t\n\t\t\t\n\t\t}\n\t}\n","import mod from \"-!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jsfun-record.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-4!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader/index.js??ref--0-1!../../../../../../../../../HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./jsfun-record.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin"],"sourceRoot":""}